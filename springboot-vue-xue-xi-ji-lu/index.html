<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Fuooovo">
    
    <title>
        
            SpringBoot+Vueå­¦ä¹ è®°å½• |
        
        Fuooovo&#39;s Note
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/sun.svg">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/brands.min.css">
    
        
            
                
<link rel="stylesheet" href="/css/custom.css">

            
        
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"fuooovo.github.io","root":"/","language":"zh-CN","path":"search.xml"}
    KEEP.theme_config = {"base_info":{"primary_color":"rgb(0,139,139)","title":"Fuooovo's Note","author":"Fuooovo","avatar":"/images/cat-avatar.svg","logo":"/images/black-cat-strenching.svg","favicon":"/images/sun.svg"},"menu":{"Archives":"/archives","Tags":"/tags","Categories":"/categories","Links":"/links","About":"/about","Photos":"/photos"},"first_screen":{"enable":true,"background_img":"/images/bg.svg","background_img_dark":"/images/yun.jpg","description":"é»‘é»‘åœŸåœŸ","hitokoto":false},"social_contact":{"enable":true,"links":{"github":"https://github.com/Fuooovo","email":"1664283711@qq.com"}},"scroll":{"progress_bar":false,"percent":true,"hide_header":true},"home":{"category":false,"tag":true,"announcement":"black-earth"},"post":{"author_badge":{"enable":true,"level_badge":false,"custom_badge":["ç‚¼æ°”æœŸ","ç­‘åŸºæœŸ","ç»“ä¸¹æœŸ","å…ƒå©´æœŸ","åŒ–ç¥æœŸ"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":true,"share":true,"reward":{"enable":true,"img_link":"/images/alipay.jpg","text":"è¯·ä½œè€…å–æ°´"}},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":false,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"valine","valine":{"appid":"zLV3tmcrBPucp2wRPMIisbvP-gzGzoHsz","appkey":"KddVU1YEfIAXRWFRvdI8yBIB","server_urls":"https://zlv3tmcr.lc-cn-n1-shared.com","placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.21"},"waline":{"server_url":null,"reaction":false,"version":2},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":false},"lazyload":{"enable":false},"cdn":{"enable":true,"provider":"jsdelivr"},"pjax":{"enable":false},"footer":{"since":2020,"word_count":false,"icp":{"enable":false,"record_code":null,"url":"https://beian.miit.gov.cn"},"site_deploy":{"enable":false,"provider":"github","url":null},"shields_style":{"enable":false,"custom":[{"link_url":null,"img_url":null}]}},"inject":{"enable":true,"css":["/css/custom.css"],"js":[null]},"root":"","links":[{"avatar":"https://drun1baby.top/favicon.svg","name":"Drunkbaby","description":"å°é…Œä¸€æ¯ğŸº","link":"https://drun1baby.top"},{"avatar":"https://cdn.pixabay.com/photo/2016/03/31/19/23/cat-1294968_1280.png","name":"Fuooovo","description":"é»‘é»‘åœŸåœŸ","link":"https://fuooovo.github.io"},{"avatar":"https://gcore.jsdelivr.net/gh/CNhuazhu/Image/avatar.jpg","name":"èŠ±çŒª","description":"ä½›ç³»é’å¹´","link":"https://cnhuazhu.top/"}],"version":"4.0.5"}
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"}
    KEEP.language_code_block = {"copy":"å¤åˆ¶ä»£ç ","copied":"å·²å¤åˆ¶","fold":"æŠ˜å ä»£ç å—","folded":"å·²æŠ˜å "}
    KEEP.language_copy_copyright = {"copy":"å¤åˆ¶ç‰ˆæƒä¿¡æ¯","copied":"å·²å¤åˆ¶","title":"åŸæ–‡æ ‡é¢˜","author":"åŸæ–‡ä½œè€…","link":"åŸæ–‡é“¾æ¥"}
  </script>
<meta name="generator" content="Hexo 7.0.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container border-box">

    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left border-box">
            
                <a class="logo-image border-box" href="/">
                    <img src="/images/black-cat-strenching.svg">
                </a>
            
            <a class="site-name border-box" href="/">
               Fuooovo&#39;s Note
            </a>
        </div>

        <div class="right border-box">
            <div class="pc">
                <ul class="menu-list">
                    <li class="menu-item">
                        <a class=""
                           href="/"
                        >é¦–é¡µ</a>
                    </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >å½’æ¡£</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >æ ‡ç­¾</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >åˆ†ç±»</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >å‹é“¾</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >å…³äº</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/photos"
                            >ç›¸å†Œ</a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            <li class="drawer-menu-item flex-center">
                <a class=""
                   href="/"
                >é¦–é¡µ</a>
            </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives"
                    >å½’æ¡£</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags"
                    >æ ‡ç­¾</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories"
                    >åˆ†ç±»</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links"
                    >å‹é“¾</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about"
                    >å…³äº</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/photos"
                    >ç›¸å†Œ</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        SpringBoot+Vueå­¦ä¹ è®°å½•
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/cat-avatar.svg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">Fuooovo</span>
                                
                                    <span class="author-badge">ç­‘åŸºæœŸ</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-check"></i>&nbsp;
                <span class="pc">2024-03-07 17:28:40</span>
                <span class="mobile">2024-03-07 17:28</span>
            </span>

            <span class="meta-info-item post-update-date">
                <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                <span class="pc" data-updated="Thu Mar 07 2024 17:47:39 GMT+0800">2024-03-07 17:47:39</span>
            </span>
        

        

        
            <span class="post-tag meta-info-item border-box">
                <i class="icon fas fa-tags"></i>&nbsp;
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/SpringBoot/">SpringBoot</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Vue/">Vue</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Mybatis-plus/">Mybatis-plus</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Swagger/">Swagger</a></li>
                        
                    
                </ul>
            </span>
        

        
        
            <span class="meta-info-item post-wordcount">
                <i class="icon fas fa-file-word"></i>&nbsp;<span>10.6k å­—</span>
            </span>
        
        
            <span class="meta-info-item post-min2read">
                <i class="icon fas fa-clock"></i>&nbsp;<span>44 åˆ†é’Ÿ</span>
            </span>
        
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body">
                    

                    <h2 id="SpringBoot">SpringBoot</h2>
<p>SpringBootç‰¹ç‚¹ï¼š</p>
<ul>
<li>éµå¾ªâ€œçº¦å®šä¼˜äºé…ç½®â€çš„åŸåˆ™ï¼Œåªéœ€è¦å¾ˆå°‘çš„é…ç½®æˆ–ä½¿ç”¨é»˜è®¤çš„é…ç½®ã€‚èƒ½å¤Ÿä½¿ç”¨å†…åµŒçš„Tomcatã€JettyæœåŠ¡å™¨ï¼Œä¸éœ€è¦éƒ¨ç½²waræ–‡ä»¶ã€‚</li>
<li>æä¾›å®šåˆ¶åŒ–çš„å¯åŠ¨å™¨Startersï¼Œç®€åŒ–Mavené…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚çº¯Javaé…ç½®ï¼Œæ²¡æœ‰ä»£ç ç”Ÿæˆï¼Œä¹Ÿä¸éœ€è¦XMLé…ç½®ã€‚</li>
<li>æä¾›äº†ç”Ÿäº§çº§çš„æœåŠ¡ç›‘æ§æ–¹æ¡ˆï¼Œå¦‚å®‰å…¨ç›‘æ§ã€åº”ç”¨ç›‘æ§ã€å¥åº·æ£€æµ‹ç­‰ã€‚</li>
</ul>
<p>Spring Bootå°†ä¼ ç»ŸWebå¼€å‘çš„<strong>mvc</strong>ã€<strong>json</strong>ã€<strong>tomcat</strong>ç­‰æ¡†æ¶æ•´åˆï¼Œæä¾›äº†<strong>spring-boot-starter-web</strong>ç»„ä»¶ï¼Œç®€åŒ–äº†Webåº”ç”¨é…ç½®ã€‚</p>
<p>åˆ›å»ºSpringBooté¡¹ç›®å‹¾é€‰<strong>Spring Web</strong>é€‰é¡¹åï¼Œä¼šè‡ªåŠ¨å°†<strong>spring-boot-starter-web</strong>ç»„ä»¶åŠ å…¥åˆ°é¡¹ç›®ä¸­ã€‚</p>
<p><strong>spring-boot-starter-web</strong>å¯åŠ¨å™¨ä¸»è¦åŒ…æ‹¬<strong>web</strong>ã€<strong>webmvc</strong>ã€<strong>json</strong>ã€<strong>tomcat</strong>ç­‰åŸºç¡€ä¾èµ–ç»„ä»¶ï¼Œä½œç”¨æ˜¯æä¾›Webå¼€å‘åœºæ™¯æ‰€éœ€çš„æ‰€æœ‰åº•å±‚ä¾èµ–ã€‚</p>
<p><strong>webmvc</strong>ä¸ºWebå¼€å‘çš„åŸºç¡€æ¡†æ¶ï¼Œ<strong>json</strong>ä¸ºJSONæ•°æ®è§£æç»„ä»¶ï¼Œ<strong>tomcat</strong>ä¸ºè‡ªå¸¦çš„å®¹å™¨ä¾èµ–</p>
<h3 id="Maven">Maven</h3>
<p>Mavenæ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¯¹javaé¡¹ç›®è¿›è¡Œè‡ªåŠ¨åŒ–çš„æ„å»ºå’Œä¾èµ–ç®¡ç†</p>
<p>mavençš„ä½œç”¨å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li>é¡¹ç›®æ„å»ºï¼šæä¾›æ ‡å‡†çš„ï¼Œè·¨å¹³å°çš„è‡ªåŠ¨åŒ–æ„å»ºé¡¹ç›®çš„æ–¹å¼</li>
<li>ä¾èµ–ç®¡ç†ï¼šæ–¹ä¾¿å¿«æ·çš„ç®¡ç†é¡¹ç›®ä¾èµ–çš„èµ„æº(jaråŒ…)ï¼Œé¿å…èµ„æºé—´çš„ç‰ˆæœ¬å†²çªç­‰é—®é¢˜</li>
<li>ç»Ÿä¸€å¼€å‘ç»“æ„ï¼šæä¾›æ ‡å‡†çš„ã€ç»Ÿä¸€çš„é¡¹ç›®å¼€å‘ç»“æ„</li>
</ul>
<h3 id="å¼€å‘ç¯å¢ƒçƒ­éƒ¨ç½²">å¼€å‘ç¯å¢ƒçƒ­éƒ¨ç½²</h3>
<p>åœ¨å®é™…çš„é¡¹ç›®å¼€å‘è°ƒè¯•è¿‡ç¨‹ä¸­ä¼šé¢‘ç¹åœ°ä¿®æ”¹åå°ç±»æ–‡ä»¶ï¼Œå¯¼è‡´éœ€è¦é‡æ–°ç¼–è¯‘ã€é‡æ–°å¯åŠ¨ï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸éº»çƒ¦ï¼Œå½±å“å¼€å‘æ•ˆç‡ã€‚åœ¨å®é™…çš„é¡¹ç›®å¼€å‘è°ƒè¯•è¿‡ç¨‹ä¸­ä¼šé¢‘ç¹åœ°ä¿®æ”¹åå°ç±»æ–‡ä»¶ï¼Œå¯¼è‡´éœ€è¦é‡æ–°ç¼–è¯‘ã€é‡æ–°å¯åŠ¨ï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸éº»çƒ¦ï¼Œå½±å“å¼€å‘æ•ˆç‡.</p>
<p>Spring Bootæä¾›äº†<strong>spring-boot-devtools</strong>ç»„ä»¶ï¼Œä½¿å¾—æ— é¡»æ‰‹åŠ¨é‡å¯SpringBootåº”ç”¨å³å¯é‡æ–°ç¼–è¯‘ã€å¯åŠ¨é¡¹ç›®ï¼Œå¤§å¤§ç¼©çŸ­ç¼–è¯‘å¯åŠ¨çš„æ—¶é—´ã€‚</p>
<p>DevToolsä¼šç›‘å¬ç±»è·¯å¾„ä¸‹çš„æ–‡ä»¶å˜åŠ¨ï¼Œè§¦å‘é‡å¯ç±»åŠ è½½å™¨é‡æ–°åŠ è½½è¯¥ç±»ï¼Œä»è€Œå®ç°ç±»æ–‡ä»¶å’Œå±æ€§æ–‡ä»¶çš„çƒ­éƒ¨ç½²ã€‚</p>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ›´æ”¹éƒ½éœ€è¦é‡å¯åº”ç”¨ï¼ˆå¦‚é™æ€èµ„æºã€è§†å›¾æ¨¡æ¿ï¼‰ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code>spring.devtools.restart.exclude</code>å±æ€§æ¥æŒ‡å®šä¸€äº›æ–‡ä»¶æˆ–ç›®å½•çš„ä¿®æ”¹ä¸ç”¨é‡å¯åº”ç”¨ã€‚</p>
<p>pom.xmlä¸­æ·»åŠ ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>application.propertiesä¸­æ·»åŠ :</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.devtools.restart.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="attr">spring.devtools.restart.additional-paths</span>=<span class="string">src/main/java</span></span><br><span class="line"><span class="attr">spring.devtools.restart.exclude</span>=<span class="string">static/**</span></span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ideaè®¾ç½®ï¼Œå‹¾é€‰è‡ªåŠ¨æ„å»ºé¡¹ç›®</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240302215633921.png" alt="image-20240302215633921"></p>
<p>æ‰“å¼€æ³¨å†Œè¡¨å‹¾é€‰<strong>compiler.automake.allow.when.app.running</strong></p>
<p>idea2021ç‰ˆæœ¬æ³¨å†Œè¡¨ä¸­æ²¡æœ‰è¯¥é€‰é¡¹ï¼Œåœ¨é«˜çº§è®¾ç½®ä¸­ä¿®æ”¹ã€‚</p>
<h3 id="æ§åˆ¶å™¨">æ§åˆ¶å™¨</h3>
<p>Spring Bootæä¾›äº†**@Controller<strong>å’Œ</strong>@RestController**ä¸¤ç§æ³¨è§£æ¥æ ‡è¯†æ­¤ç±»è´Ÿè´£æ¥æ”¶å’Œå¤„ç†HTTPè¯·æ±‚ã€‚<br>
å¦‚æœè¯·æ±‚çš„æ˜¯é¡µé¢å’Œæ•°æ®ï¼Œä½¿ç”¨@Controlleræ³¨è§£å³å¯;å¦‚æœåªæ˜¯è¯·æ±‚æ•°æ®,åˆ™å¯ä»¥ä½¿ç”¨@RestControlleræ³¨è§£ã€‚</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303194315279.png" alt="image-20240303194315279"></p>
<p><strong>Controllerçš„ç”¨æ³•</strong><br>
ä¸‹é¢ç¤ºä¾‹ä¸­è¿”å›äº†helloé¡µé¢å’Œnameçš„æ•°æ®ï¼Œåœ¨å‰ç«¯é¡µé¢ä¸­å¯ä»¥é€šè¿‡${name}å‚è·å–åå°è¿”å›çš„æ•°æ®å¹¶æ˜¾ç¤ºã€‚<br>
Controlleré€šå¸¸ä¸Thymeleafæ¨¡æ¿å¼•æ“ç»“åˆä½¿ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">	<span class="meta">@RequestMapping( &quot;/hello&quot; )</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">index</span><span class="params">(ModelMap map)</span>&#123;</span><br><span class="line">		map.addAttribute( attributeName: <span class="string">&quot;name &quot;</span> ,attributeValue: 				<span class="string">&quot;zhangsan&quot;</span>);	</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ä¾‹è¿”å›äº†hello.htmlé¡µé¢ï¼Œè¿™æ ·å‰åç«¯ä¸åˆ†ç¦»ã€‚ä¸ºäº†åˆ†ç¦»å‰åç«¯ï¼Œä¸€èˆ¬ç”¨@RestControllerï¼Œåªè¯·æ±‚æ•°æ®ã€‚</p>
<p><strong>@RestControllerçš„ç”¨æ³•</strong><br>
é»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>@RestControlleræ³¨è§£ä¼šå°†è¿”å›çš„å¯¹è±¡æ•°æ®è½¬æ¢ä¸ºJSONæ ¼å¼ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">	<span class="meta">@RequestMapping</span> (<span class="string">&quot;/user&quot;</span>)</span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">		user.setUsername ( <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        user.setPassword( <span class="string">&quot;123&quot;</span> );</span><br><span class="line">		<span class="keyword">return</span> user;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è·¯ç”±æ˜ å°„ï¼Œæ¥æ”¶å‰ç«¯è¯·æ±‚</strong><br>
<strong>@RequestMapping</strong>æ³¨è§£ä¸»è¦è´Ÿè´£URLçš„è·¯ç”±æ˜ å°„ã€‚å®ƒå¯ä»¥æ·»åŠ åœ¨Controllerç±»æˆ–è€…å…·ä½“çš„æ–¹æ³•ä¸Šã€‚</p>
<p>å¦‚æœæ·»åŠ åœ¨Controllerç±»ä¸Šï¼Œåˆ™è¿™ä¸ªControllerä¸­çš„æ‰€æœ‰è·¯ç”±æ˜ å°„éƒ½å°†ä¼šåŠ ä¸Šæ­¤æ˜ å°„è§„åˆ™ï¼Œå¦‚æœæ·»åŠ åœ¨æ–¹æ³•ä¸Šï¼Œåˆ™åªå¯¹å½“å‰æ–¹æ³•ç”Ÿæ•ˆã€‚</p>
<p>@RequestMappingæ³¨è§£åŒ…å«å¾ˆå¤šå±æ€§å‚æ•°æ¥å®šä¹‰HTTPçš„è¯·æ±‚æ˜ å°„è§„åˆ™ã€‚</p>
<p>å¸¸ç”¨çš„å±æ€§å‚æ•°å¦‚ä¸‹:</p>
<p>**value:**è¯·æ±‚URLçš„è·¯å¾„ï¼Œæ”¯æŒURLæ¨¡æ¿ã€æ­£åˆ™è¡¨è¾¾å¼</p>
<p><strong>method:</strong> HTTPè¯·æ±‚æ–¹æ³•</p>
<p>**consumes:**è¯·æ±‚çš„åª’ä½“ç±»å‹(Content-Type)ï¼Œå¦‚application/json</p>
<p>**produces:**å“åº”çš„åª’ä½“ç±»å‹</p>
<p>**params, headers:**è¯·æ±‚çš„å‚æ•°åŠè¯·æ±‚å¤´çš„å€¼</p>
<p>@RequestMappingçš„valueå±æ€§ç”¨äºåŒ¹é…URLæ˜ å°„,valueæ”¯æŒç®€å•è¡¨è¾¾å¼RequestMapping(â€œ/userâ€)</p>
<p>@RequestMappingæ”¯æŒä½¿ç”¨é€šé…ç¬¦åŒ¹é…URLï¼Œç”¨äºç»Ÿä¸€æ˜ å°„æŸäº›URLè§„åˆ™ç±»ä¼¼çš„è¯·æ±‚:@RequestMapping(&quot;/getJson/<em>.json&quot;)ï¼Œå½“åœ¨æµè§ˆå™¨ä¸­è¯·æ±‚/getJson/a.jsonæˆ–è€…/getJson/b.jsonæ—¶éƒ½ä¼šåŒ¹é…åˆ°åå°çš„Jsonæ–¹æ³•</em></p>
<p>@RequestMappingçš„é€šé…ç¬¦åŒ¹é…éå¸¸ç®€å•å®ç”¨ï¼Œæ”¯æŒâ€œ<em>â€ â€œ?â€ &quot;**â€œç­‰é€šé…ç¬¦ç¬¦å·â€</em>â€œåŒ¹é…ä»»æ„å­—ç¬¦ï¼Œç¬¦å·â€œ**â€åŒ¹é…ä»»æ„è·¯å¾„ï¼Œç¬¦å·â€?&quot;åŒ¹é…å•ä¸ªå­—ç¬¦</p>
<p>æœ‰é€šé…ç¬¦çš„ä¼˜å…ˆçº§ä½äºæ²¡æœ‰é€šé…ç¬¦çš„ï¼Œæ¯”å¦‚/user/add.jsonæ¯”/user/*.jsonä¼˜å…ˆåŒ¹é…æœ‰â€œ**â€é€šé…ç¬¦çš„ä¼˜å…ˆçº§ä½äºæœ‰&quot;*&quot;é€šé…ç¬¦çš„</p>
<p><strong>MethodåŒ¹é…</strong><br>
HTTPè¯·æ±‚Methodæœ‰<strong>GET</strong>ã€<strong>POST</strong>ã€<strong>PUT</strong>ã€<strong>DELETE</strong>ç­‰æ–¹å¼ã€‚</p>
<p>@RequestMappingæ³¨è§£æä¾›äº†methodå‚æ•°æŒ‡å®šè¯·æ±‚çš„Methodç±»å‹ï¼ŒåŒ…æ‹¬<br>
RequestMethod.GETã€RequestMethod.POSTã€RequestMethod.DELETRequestMethod.PUTç­‰å€¼ï¼Œåˆ†åˆ«å¯¹åº”HTTPè¯·æ±‚çš„Method</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/getData&quot; , method = RequestMethod.GET)</span></span><br><span class="line"><span class="keyword">public</span> string <span class="title function_">getData</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>MethodåŒ¹é…ä¹Ÿå¯ä»¥ä½¿ç”¨@GetMappingã€@PostMappingç­‰æ³¨è§£ä»£æ›¿ã€‚</p>
<p>Getç”¨äºä»æœåŠ¡å™¨è·å–èµ„æºã€‚</p>
<p>Postç”¨äºå‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œé€šå¸¸ç”¨äºåˆ›å»ºã€åˆ é™¤å’Œæ›´æ–°èµ„æºã€‚</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303214745034.png" alt="image-20240303214745034"></p>
<h3 id="HTTPçŠ¶æ€ç ">HTTPçŠ¶æ€ç </h3>
<p>HTTPçŠ¶æ€ç å°±æ˜¯æœåŠ¡å‘ç”¨æˆ·è¿”å›çš„çŠ¶æ€ç å’Œæç¤ºä¿¡æ¯ï¼Œå®¢æˆ·ç«¯çš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡éƒ½å¿…é¡»ç»™å‡ºå›åº”ï¼Œå›åº”åŒ…æ‹¬HTTPçŠ¶æ€ç å’Œæ•°æ®ä¸¤éƒ¨åˆ†ã€‚å¯ä»¥ç”¨æ¥æ£€æŸ¥æŠ¥é”™ä¿¡æ¯ï¼Œäº†è§£æ˜¯å“ªé‡Œå‡ºäº†é”™è¯¯ã€‚</p>
<p>HTTPå®šä¹‰äº†40ä¸ªæ ‡å‡†çŠ¶æ€ç ï¼Œå¯ç”¨äºä¼ è¾¾å®¢æˆ·ç«¯è¯·æ±‚çš„ç»“æœã€‚çŠ¶æ€ç åˆ†ä¸ºä»¥ä¸‹5ä¸ªç±»åˆ«:<br>
1xx:ä¿¡æ¯ï¼Œé€šä¿¡ä¼ è¾“åè®®çº§ä¿¡æ¯</p>
<p>2xx:æˆåŠŸï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„è¯·æ±‚å·²æˆåŠŸæ¥å—</p>
<p>3xx:é‡å®šå‘ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å¿…é¡»æ‰§è¡Œä¸€äº›å…¶ä»–æ“ä½œæ‰èƒ½å®Œæˆå…¶è¯·æ±‚</p>
<p>4xx:å®¢æˆ·ç«¯é”™è¯¯ï¼Œæ­¤ç±»é”™è¯¯çŠ¶æ€ç æŒ‡å‘å®¢æˆ·ç«¯</p>
<p>5xx:æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨è´Ÿè´£è¿™å†™é”™è¯¯çŠ¶æ€ç </p>
<p><strong>å‚æ•°ä¼ é€’</strong><br>
<strong>@RequestParam</strong>å°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°æ§åˆ¶å™¨çš„æ–¹æ³•å‚æ•°ä¸Šï¼Œæ¥æ”¶çš„å‚æ•°æ¥è‡ªHTTPè¯·æ±‚ä½“æˆ–è¯·æ±‚urlçš„QueryStringï¼Œå½“è¯·æ±‚çš„å‚æ•°åç§°ä¸Controllerçš„ä¸šåŠ¡æ–¹æ³•å‚æ•°åç§°ä¸€è‡´æ—¶,@RequestParamå¯ä»¥çœç•¥</p>
<p>**@PathVaraible:**ç”¨æ¥å¤„ç†åŠ¨æ€çš„URLï¼ŒURLçš„å€¼å¯ä»¥ä½œä¸ºæ§åˆ¶å™¨ä¸­å¤„ç†æ–¹æ³•çš„å‚æ•°</p>
<p><strong>@RequestBody</strong>æ¥æ”¶çš„å‚æ•°æ˜¯æ¥è‡ªrequestBodyä¸­ï¼Œå³è¯·æ±‚ä½“ã€‚ä¸€èˆ¬ç”¨äºå¤„ç†<br>
éContent-Type: application/x-www-form-urlencodedç¼–ç æ ¼å¼çš„æ•°æ®,æ¯”å¦‚: applicationljsonã€application/xmlç­‰ç±»å‹çš„æ•°æ®</p>
<p><strong>é™æ€èµ„æºè®¿é—®</strong><br>
ä½¿ç”¨IDEAåˆ›å»ºSpring Booté¡¹ç›®ï¼Œä¼šé»˜è®¤åˆ›å»ºå‡ºclasspath:/staticç›®å½•ï¼Œé™æ€èµ„æºä¸€èˆ¬æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹å³å¯ã€‚<br>
å¦‚æœé»˜è®¤çš„é™æ€èµ„æºè¿‡æ»¤ç­–ç•¥ä¸èƒ½æ»¡è¶³å¼€å‘éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰é™æ€èµ„æºè¿‡æ»¤ç­–ç•¥ã€‚<br>
åœ¨application.propertiesä¸­ç›´æ¥å®šä¹‰è¿‡æ»¤è§„åˆ™å’Œé™æ€èµ„æºä½ç½®:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.mvc.static-path-pattern</span>=<span class="string">/static/**</span></span><br><span class="line"><span class="attr">spring.web.resources.static-locations</span>=<span class="string">classpath:/static/</span></span><br></pre></td></tr></table></figure>
<p>è¿‡æ»¤è§„åˆ™ä¸º/static/**ï¼Œé™æ€èµ„æºä½ç½®ä¸ºclasspath:/static/</p>
<p><strong>æ–‡ä»¶ä¸Šä¼ åŸç†</strong><br>
è¡¨å•çš„enctypeå±æ€§è§„å®šåœ¨å‘é€åˆ°æœåŠ¡å™¨ä¹‹å‰åº”è¯¥å¦‚ä½•å¯¹è¡¨å•æ•°æ®è¿›è¡Œç¼–ç ã€‚<br>
å½“è¡¨å•çš„enctype=â€œapplication/x-www-form-urlencodedâ€(é»˜è®¤ï¼‰æ—¶,formè¡¨å•ä¸­çš„æ•°æ®æ ¼å¼ä¸º: key=value&amp;key=value<br>
å½“è¡¨å•çš„enctype=&quot;multipart/form-data&quot;æ—¶ï¼Œå…¶ä¼ è¾“æ•°æ®å½¢å¼å¦‚ä¸‹</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303205957153.png" alt="image-20240303205957153"></p>
<p><strong>SpirngBootå®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½</strong><br>
Spring Bootå·¥ç¨‹åµŒå…¥çš„tomcaté™åˆ¶äº†è¯·æ±‚çš„æ–‡ä»¶å¤§å°ï¼Œæ¯ä¸ªæ–‡ä»¶çš„é…ç½®æœ€å¤§ä¸º1Mbï¼Œå•æ¬¡è¯·æ±‚çš„æ–‡ä»¶çš„æ€»æ•°ä¸èƒ½å¤§äº10Mbã€‚<br>
è¦æ›´æ”¹è¿™ä¸ªé»˜è®¤å€¼éœ€è¦åœ¨é…ç½®æ–‡ä»¶(å¦‚application.propertiesï¼‰ä¸­åŠ å…¥ä¸¤ä¸ªé…ç½®</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.servlet.mu</span> <span class="string">1tipart.max-fi1e-size=10MB</span></span><br><span class="line"><span class="attr">spring.serv1et.mu1tipart.max-request-size</span>=<span class="string">10MB</span></span><br></pre></td></tr></table></figure>
<p>å½“è¡¨å•çš„enctype=&quot;multipart/form-data&quot;æ—¶,å¯ä»¥ä½¿ç”¨MultipartFileè·å–ä¸Šä¼ çš„æ–‡ä»¶æ•°æ®ï¼Œå†é€šè¿‡transferToæ–¹æ³•å°†å…¶å†™å…¥åˆ°ç£ç›˜ä¸­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line">pub1ic <span class="keyword">class</span> <span class="title class_">Filecontro11er</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">string</span> <span class="variable">UPLOADED_FOLDER</span> <span class="operator">=</span> 		System.getProperty(<span class="string">&quot;user.dir&quot;</span>)+<span class="string">&quot;/up1oad/&quot;</span></span><br><span class="line">        </span><br><span class="line">	<span class="meta">@PostMapping(&quot;/up&quot;)</span></span><br><span class="line">	<span class="keyword">public</span> string <span class="title function_">up1oad</span><span class="params">(string nickname,Mu1tipartFile f)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		system. out.print1n(<span class="string">&quot;æ–‡ä»¶å¤§å°: &quot;</span>+f.getsize());</span><br><span class="line">		system. out.println(f.getcontentType();</span><br><span class="line">		system. out.print1n(f.getorigina1Fi1ename());</span><br><span class="line">		system.out.print1n(system.getProperty(<span class="string">&quot;user.dir&quot;</span>));saveFile(f);</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveFi1e</span><span class="params">(Mu1tipartFile f)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">		<span class="type">Fi1e</span> <span class="variable">upDir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(UPLOADED_FOLDER);</span><br><span class="line">		<span class="keyword">if</span>(!upDir.exists())&#123;</span><br><span class="line">		upDir.mkdir();</span><br><span class="line">	&#125;</span><br><span class="line">	File file=<span class="keyword">new</span> <span class="title class_">File</span>(UPLOADED_FOLDER+f.getorigina1Filename());</span><br><span class="line">    f.transferTo(fi1e);</span><br><span class="line">  &#125;</span><br><span class="line">                            </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ‹¦æˆªå™¨"><strong>æ‹¦æˆªå™¨</strong></h3>
<p>æ‹¦æˆªå™¨åœ¨Webç³»ç»Ÿä¸­éå¸¸å¸¸è§ï¼Œå¯¹äºæŸäº›å…¨å±€ç»Ÿä¸€çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ<br>
å–åˆ°æ‹¦æˆªå™¨ä¸­å®ç°ã€‚æ€»ç»“èµ·æ¥ï¼Œæ‹¦æˆªå™¨å¤§è‡´æœ‰ä»¥ä¸‹å‡ ç§ä½¿ç”¨åœºæ™¯:</p>
<ul>
<li>
<p>æƒé™æ£€æŸ¥:å¦‚ç™»å½•æ£€æµ‹ï¼Œè¿›å…¥å¤„ç†ç¨‹åºæ£€æµ‹æ˜¯å¦ç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç›´æ¥è¿”<br>
å›ç™»å½•é¡µé¢ã€‚</p>
</li>
<li>
<p>æ€§èƒ½ç›‘æ§:æœ‰æ—¶ç³»ç»Ÿåœ¨æŸæ®µæ—¶é—´è«åå…¶å¦™å¾ˆæ…¢ï¼Œå¯ä»¥é€šè¿‡æ‹¦æˆªå™¨åœ¨è¿›å…¥å¤„ç†<br>
ç¨‹åºä¹‹å‰è®°å½•å¼€å§‹æ—¶é—´ï¼Œåœ¨å¤„ç†å®Œåè®°å½•ç»“æŸæ—¶é—´ï¼Œä»è€Œå¾—åˆ°è¯¥è¯·æ±‚çš„å¤„ç†æ—¶é—´</p>
</li>
<li>
<p>é€šç”¨è¡Œä¸º:è¯»å–cookieå¾—åˆ°ç”¨æˆ·ä¿¡æ¯å¹¶å°†ç”¨æˆ·å¯¹è±¡æ”¾å…¥è¯·æ±‚ï¼Œä»è€Œæ–¹ä¾¿åç»­<br>
ç¨‹ä½¿ç”¨ï¼Œè¿˜æœ‰æå–Localeã€Themeä¿¡æ¯ç­‰ï¼Œåªè¦æ˜¯å¤šä¸ªå¤„ç†ç¨‹åºéƒ½éœ€è¦çš„,<br>
å³å¯ä½¿ç”¨æ‹¦æˆªå™¨å®ç°ã€‚</p>
</li>
</ul>
<p>Spring Bootå®šä¹‰äº†<strong>HandlerInterceptor</strong>æ¥å£æ¥å®ç°è‡ªå®šä¹‰æ‹¦æˆªå™¨çš„åŠŸèƒ½</p>
<p><strong>HandlerInterceptor</strong>æ¥å£å®šä¹‰äº†<strong>preHandle</strong>ã€<strong>postHandle</strong>ã€<strong>afterCompletion</strong>ä¸‰ç§æ–¹æ³•ï¼Œé€šè¿‡é‡å†™è¿™ä¸‰ç§æ–¹æ³•å®ç°è¯·æ±‚å‰ã€è¯·æ±‚åç­‰æ“ä½œ</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303212720854.png" alt="image-20240303212720854"></p>
<h4 id="æ‹¦æˆªå™¨å®šä¹‰"><strong>æ‹¦æˆªå™¨å®šä¹‰:</strong></h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;LoginInterceptro&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ‹¦æˆªå™¨æ³¨å†Œ">æ‹¦æˆªå™¨æ³¨å†Œ</h4>
<p><strong>addPathPatterns</strong>æ–¹æ³•å®šä¹‰æ‹¦æˆªçš„åœ°å€ã€‚</p>
<p><strong>excludePathPatterns</strong>å®šä¹‰æ’é™¤æŸäº›åœ°å€ä¸è¢«æ‹¦æˆªã€‚</p>
<p>æ·»åŠ çš„ä¸€ä¸ªæ‹¦æˆªå™¨æ²¡æœ‰<strong>addPathPattern</strong>ä»»ä½•ä¸€ä¸ªurlåˆ™é»˜è®¤æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ã€‚</p>
<p>å¦‚æœæ²¡æœ‰<strong>excludePathPatterns</strong>ä»»ä½•ä¸€ä¸ªè¯·æ±‚ï¼Œåˆ™é»˜è®¤ä¸æ”¾è¿‡ä»»ä½•ä¸€ä¸ªè¯·æ±‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">webconfigurer</span> imp1ements webMvcconfigurer i</span><br><span class="line">	<span class="meta">@override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> i</span><br><span class="line">		registry.addInterceptor( <span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>())										.addPathPatterns(<span class="string">&quot;/user/**&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¤šä¸ªæ‹¦æˆªå™¨æ‰§è¡Œæœ‰é¡ºåºï¼Œå¦‚æœè¿˜é…ç½®äº†å…¨å±€çš„Corsï¼Œéœ€è¦å°†Corsçš„æ‰§è¡Œé¡ºåºè°ƒåˆ°æœ€é«˜ã€‚</p>
<h2 id="Swagger">Swagger</h2>
<p><strong>Swagger</strong>æ˜¯ä¸€ä¸ªè§„èŒƒå’Œå®Œæ•´çš„æ¡†æ¶ï¼Œç”¨äºç”Ÿæˆã€æè¿°ã€è°ƒç”¨å’Œå¯è§†åŒ–<strong>RESTful</strong>é£æ ¼çš„WebæœåŠ¡ï¼Œæ˜¯éå¸¸æµè¡Œçš„APIè¡¨è¾¾å·¥å…·ã€‚<br>
<strong>Swagger</strong>èƒ½å¤Ÿ<strong>è‡ªåŠ¨ç”Ÿæˆå®Œå–„çš„RESTful APIæ–‡æ¡£</strong>ï¼ŒåŒæ—¶å¹¶æ ¹æ®åå°ä»£ç çš„ä¿®æ”¹<strong>åŒæ­¥æ›´æ–°</strong>ï¼ŒåŒæ—¶æä¾›å®Œæ•´çš„<strong>æµ‹è¯•é¡µé¢</strong>æ¥è°ƒè¯•APlã€‚</p>
<p><a class="link" target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/617187396">ä»€ä¹ˆæ˜¯RESTfulé£æ ¼API<i class="fas fa-external-link-alt"></i></a></p>
<p>åœ¨Spring Booté¡¹ç›®ä¸­é›†æˆSwaggeråŒæ ·éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥springfox-swagger2å’Œspringfox-swagger-uiä¾èµ–å³å¯ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é…ç½®swagger(SwaggerConfig),å¯ä»¥å¤ç”¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * é…ç½®Swaggerç›¸å…³çš„bean</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                <span class="comment">//comåŒ…ä¸‹æ‰€æœ‰APIéƒ½äº¤ç»™Swagger2ç®¡ç†</span></span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * æ­¤å¤„ä¸»è¦æ˜¯APIæ–‡æ¡£é¡µé¢æ˜¾ç¤ºä¿¡æ¯</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;æ¼”ç¤ºé¡¹ç›®API&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;æ¼”ç¤ºé¡¹ç›®&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">// è§£å†³é™æ€èµ„æºæ— æ³•è®¿é—®</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/static/&quot;</span>);</span><br><span class="line">        <span class="comment">// è§£å†³swaggeræ— æ³•è®¿é—®</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/swagger-ui.html&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">        <span class="comment">// è§£å†³swaggerçš„jsæ–‡ä»¶æ— æ³•è®¿é—®</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Spring Boot 2.6.Xåä¸Swaggeræœ‰ç‰ˆæœ¬å†²çªé—®é¢˜ï¼Œéœ€è¦åœ¨application.propertiesä¸­åŠ å…¥ä»¥ä¸‹é…ç½®:</p>
<p><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher</code></p>
<p>swaggerè®¿é—®åœ°å€<code>localhost:8090/swagger-ui.html</code></p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240307165104205.png" alt="image-20240307165104205"></p>
<h2 id="Mybatis-plus">Mybatis-plus</h2>
<h3 id="ORM">ORM</h3>
<p>ORM (Object Relational Mappingï¼Œå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ˜¯ä¸ºäº†è§£å†³é¢å‘å¯¹è±¡ä¸å…³ç³»å‹æ•°æ®åº“å­˜åœ¨çš„äº’ä¸åŒ¹é…ç°è±¡çš„ä¸€ç§æŠ€æœ¯ã€‚<br>
ORMé€šè¿‡ä½¿ç”¨æè¿°å¯¹è±¡å’Œæ•°æ®åº“ä¹‹é—´æ˜ å°„çš„å…ƒæ•°æ®å°†ç¨‹åºä¸­çš„å¯¹è±¡è‡ªåŠ¨æŒä¹…åŒ–åˆ°å…³ç³»æ•°æ®åº“ä¸­ã€‚<br>
ORMæ¡†æ¶çš„æœ¬è´¨æ˜¯ç®€åŒ–ç¼–ç¨‹ä¸­æ“ä½œæ•°æ®åº“çš„ç¼–ç .</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240304090436103.png" alt="image-20240304090436103"></p>
<h3 id="MyBatis-Plus">MyBatis-Plus</h3>
<p>MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„<strong>æ•°æ®æŒä¹…å±‚ORMæ¡†æ¶</strong>ï¼Œè¢«å¹¿æ³›åœ°åº”ç”¨äºåº”ç”¨ç³»ç»Ÿã€‚</p>
<p>MyBatisèƒ½å¤Ÿéå¸¸çµæ´»åœ°å®ç°<strong>åŠ¨æ€SQL</strong>ï¼Œå¯ä»¥ä½¿ç”¨XMLæˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸ<br>
ç”Ÿä¿¡æ¯ï¼Œèƒ½å¤Ÿè½»æ¾åœ°å°†Javaçš„POJO (Plain Ordinary Java Objectï¼Œæ™®é€šçš„<br>
çš„Javaå¯¹è±¡)ä¸æ•°æ®åº“ä¸­çš„è¡¨å’Œå­—æ®µè¿›è¡Œæ˜ å°„å…³è”ã€‚</p>
<p>MyBatis-Plusæ˜¯ä¸€ä¸ªMyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨MyBatisçš„åŸºç¡€ä¸Šåšäº†å¢å¼ºï¼Œç®€åŒ–äº†å¼€å‘ã€‚</p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240304092904997.png" alt="image-20240304092904997" style="zoom:80%;">
<p>æ•°æ®åº“ç›¸å…³çš„æ“ä½œæ”¾åœ¨mapperåŒ…ä¸­ï¼Œåœ¨å¯åŠ¨ç±»ä¸­åŠ ä¸ŠMapperScanæ³¨è§£</p>
<p>UserMapper(mapperåŒ…ä¸­)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAllUser</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Insert(&quot;insert into user values (#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;,#&#123;birthday&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">insert</span><span class="params">(User user)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•ä¸éœ€è¦å®ç°ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œæ³¨è§£ä¸­çš„sqlè¯­å¥ï¼Œå¹¶å°†selectåˆ°çš„ç»“æœå­˜åˆ°listä¸­è¿”å›ã€‚</p>
<p>insertè¯­å¥è¿”å›å€¼ä¸ºintï¼Œæ’å…¥äº†å¤šå°‘æ¡æ•°æ®å°±è¿”å›å¤šå°‘ã€‚æ’å…¥æ•°æ®éœ€è¦çš„å‚æ•°ä¸ºuserçš„å±æ€§ï¼Œæ ¼å¼ä¸º#{å±æ€§}ã€‚è®°å¾—è®¾ç½®ä¸»é”®idè‡ªå¢ï¼Œå¦åˆ™å¤šæ¬¡æ’å…¥å¯èƒ½ä¼šæŠ¥5xé”™è¯¯ã€‚</p>
<p>mybatius-pulsåšäº†è¿›ä¸€æ­¥ç®€åŒ–ï¼Œcontrollerä¸­ç›´æ¥è°ƒç”¨BaseMapperé‡Œçš„æ–¹æ³•å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>BaseMapperä¸­çš„Userå‚æ•°ï¼Œç±»åéœ€è¦ä¸è¡¨åä¸€è‡´ï¼Œå¦åˆ™éœ€è¦åœ¨ç±»é‡Œæ·»åŠ @TableName(è¡¨å)æ³¨è§£</p>
<p>UserController(controlleråŒ…ä¸­)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">query</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;User&gt; users = userMapper.findAllUser();</span><br><span class="line">        System.out.println(users);</span><br><span class="line">        <span class="keyword">return</span> users;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨UserControllerä¸­ï¼Œä½¿ç”¨æ³¨è§£Autowiredæ³¨å…¥mapper</p>
<p>ä¸€èˆ¬æ¥è¯´éœ€è¦å°†æ•°æ®è½¬åŒ–ä¸ºjsonæ ¼å¼äº¤ç»™å‰ç«¯ï¼Œå°†å‡½æ•°è¿”å›å€¼æ”¹ä¸ºListï¼Œè¿”å›çš„å¯¹è±¡å°†ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºjson</p>
<p><strong>å¤šè¡¨æŸ¥è¯¢</strong></p>
<p>å®ç°å¤æ‚å…³ç³»æ˜ å°„ï¼Œå¯ä»¥ä½¿ç”¨@Resultsæ³¨è§£ï¼Œ@Resultæ³¨è§£ï¼Œ@Oneæ³¨è§£ï¼Œ@Manyæ³¨è§£ç»„åˆå®Œæˆå¤æ‚å…³ç³»çš„é…ç½®ã€‚</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240304190923815.png" alt="image-20240304190923815"></p>
<h3 id="ä¾‹é¢˜">ä¾‹é¢˜</h3>
<p>ç°åœ¨æœ‰ä¸€ä¸ªè®¢å•è¡¨å’Œç”¨æˆ·è¡¨ï¼Œè¦å®ç°ä¸¤ä¸ªå¤šè¡¨æŸ¥è¯¢ï¼š</p>
<p>1.é€šè¿‡ç”¨æˆ·idæŸ¥æ‰¾ç”¨æˆ·è®¢å•ï¼Œå¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯å’Œå¯¹åº”çš„è®¢å•ä¿¡æ¯</p>
<p>2.é€šè¿‡uidæŸ¥æ‰¾è®¢å•ä¿¡æ¯ï¼Œå¹¶è¿”å›è®¢å•ä¿¡æ¯å’Œå¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯</p>
<p>UserMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">    <span class="comment">//é€šè¿‡idæŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_user where id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    User <span class="title function_">selectById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//é€šè¿‡idæŸ¥æ‰¾ç”¨æˆ·è®¢å•ï¼Œå¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯å’Œå¯¹åº”çš„è®¢å•ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_user&quot;)</span></span><br><span class="line">    <span class="meta">@Results(</span></span><br><span class="line"><span class="meta">            &#123;       //column=å­—æ®µåï¼Œproperty=å±æ€§å</span></span><br><span class="line"><span class="meta">                    //@Resultæ³¨è§£æŠŠä»æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ°çš„æ•°æ®ï¼Œèµ‹å€¼ç»™ç±»çš„å±æ€§</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;,property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;username&quot;,property = &quot;username&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;password&quot;,property = &quot;password&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;birthday&quot;,property = &quot;birthday&quot;),</span></span><br><span class="line"><span class="meta">                    //åœ¨userMapperä¸­è°ƒç”¨orderMapperçš„selectByUidæ–¹æ³•ï¼ŒæŠŠidä¼ é€’ç»™è¯¥æ–¹æ³•ï¼Œå¾—åˆ°çš„è®¢å•é›†åˆèµ‹å€¼ç»™Userç±»é‡Œçš„orderså±æ€§</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;,property = &quot;orders&quot;,javaType = List.class,</span></span><br><span class="line"><span class="meta">                        many=@Many(select=&quot;com.example.springbootstudy.mapper.OrderMapper.selectByUid&quot;)</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    List&lt;User&gt; <span class="title function_">selectAllUsersAndOrders</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨@Resultæ³¨è§£æ˜ å°„orderå±æ€§æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·(id)å¯èƒ½æ˜ å°„å¤šä¸ªè®¢å•(ordersé›†åˆ)ï¼Œæ˜¯ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»ï¼Œç”¨@manyæ³¨è§£ã€‚å°†idä¼ é€’ç»™selectByUidæ–¹æ³•ï¼Œè¿”å›ç»“æœèµ‹å€¼ç»™ordersã€‚</p>
<p>åœ¨UserControllerä¸­è°ƒç”¨selectAllUsersAndOrdersï¼Œè¿”å›ç»™å‰ç«¯ç”¨æˆ·é›†åˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/findAll&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAll</span><span class="params">()</span>&#123;</span><br><span class="line">       List&lt;User&gt; users = userMapper.selectAllUsersAndOrders();</span><br><span class="line">       System.out.println(users);</span><br><span class="line">       <span class="keyword">return</span> users;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>OrderMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é€šè¿‡uidæŸ¥æ‰¾è®¢å•ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_order where uid = #&#123;uid&#125;&quot;)</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">selectByUid</span><span class="params">(<span class="type">int</span> uid)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é€šè¿‡uidæŸ¥æ‰¾è®¢å•ä¿¡æ¯ï¼Œå¹¶è¿”å›è®¢å•ä¿¡æ¯å’Œå¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_order&quot;)</span></span><br><span class="line">    <span class="meta">@Results(</span></span><br><span class="line"><span class="meta">            &#123;</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;id&quot;,property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;order_time&quot;,property = &quot;order_time&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;total&quot;,property = &quot;total&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;uid&quot;,property = &quot;uid&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;uid&quot;,property = &quot;user&quot;,javaType = User.class,</span></span><br><span class="line"><span class="meta">                        one=@One(select=&quot;com.example.springbootstudy.mapper.UserMapper.selectById&quot;)</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">selectAllOrdersAndUsers</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨@Resultæ³¨è§£æ˜ å°„userçš„æ—¶å€™ï¼Œä¸€ä¸ªè®¢å•ç¼–å·(uid)å¯¹åº”ä¸€ä¸ªç”¨æˆ·(user)ï¼Œæ˜¯ä¸€å¯¹ä¸€çš„æ˜ å°„å…³ç³»ï¼Œç”¨@oneæ³¨è§£ï¼ŒåŒæ ·çš„å°†uidä¼ é€’ç»™selectByIdï¼Œç»“æœèµ‹ç»™userã€‚</p>
<p>åœ¨OrderMapperä¸­è°ƒç”¨selectAllOrdersAndUsersï¼Œè¿”å›ç»™å‰ç«¯è®¢å•é›†åˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/order/findAll&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Order&gt; <span class="title function_">findAll</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Order&gt; orders = orderMapper.selectAllOrdersAndUsers();</span><br><span class="line">        System.out.println(orders);</span><br><span class="line">        <span class="keyword">return</span> orders;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>æ€»çš„æ¥è¯´å°±æ˜¯ç”¨æˆ·ç±»é‡Œæœ‰ä¸€ä¸ªè®¢å•å±æ€§(List&lt;Order&gt; orders)ï¼Œé€šè¿‡è°ƒç”¨æ–¹æ³•å’Œ@Resultã€@manyç­‰æ³¨è§£å®ç°å¤šè¡¨æŸ¥è¯¢ã€‚ç¬¬äºŒä¸ªéœ€æ±‚åŒç†ã€‚</p>
<p><strong>mybatis-plusçš„æ¡ä»¶æŸ¥è¯¢å’Œåˆ†ç±»æŸ¥è¯¢</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//mybatis-plusçš„æ¡ä»¶æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user/findByCond&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findByCond</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper=<span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> userMapper.selectList(queryWrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//mybatis-plusåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user/findByPage&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> IPage <span class="title function_">findByPage</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®èµ·å§‹å€¼ä»¥åŠæ¯é¡µæ¡æ•°</span></span><br><span class="line">        Page&lt;User&gt; page = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//iPageå°è£…äº†æŸ¥è¯¢çš„ç»“æœï¼Œä»¥åŠå½“å‰æ˜¯ç¬¬å‡ é¡µç­‰é¢å¤–ä¿¡æ¯</span></span><br><span class="line">        <span class="type">IPage</span> <span class="variable">iPage</span> <span class="operator">=</span> userMapper.selectPage(page,<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">return</span> iPage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ†é¡µæŸ¥è¯¢è¿˜éœ€è¦é…ç½®ä¸€ä¸ªæ‹¦æˆªå™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//é…ç½®mybatis-plusåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisPlusConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">paginationInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="type">PaginationInnerInterceptor</span> <span class="variable">paginationInnerInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL);</span><br><span class="line">        interceptor.addInnerInterceptor(paginationInnerInterceptor);</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Vue">Vue</h2>
<h3 id="MVVMæ¨¡å¼">MVVMæ¨¡å¼</h3>
<p>MVVMæ˜¯Model-View-ViewModelçš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºå‰ç«¯å¼€å‘çš„æ¶æ„æ¨¡å¼ï¼Œå…¶æ ¸å¿ƒæ˜¯æä¾›å¯¹Viewå’ŒViewModelçš„åŒå‘æ•°æ®ç»‘å®šã€‚</p>
<p>Vueæä¾›äº†MVVMé£æ ¼çš„åŒå‘æ•°æ®ç»‘å®šï¼Œæ ¸å¿ƒæ˜¯MVVMä¸­çš„VMï¼Œä¹Ÿå°±æ˜¯ViewModelï¼ŒViewModelè´Ÿè´£è¿æ¥Viewå’ŒModelï¼Œä¿è¯è§†å›¾å’Œæ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
<p>viewå˜äº†ï¼Œmodelè·Ÿç€å˜ï¼›modelå˜äº†ï¼Œviewä¹Ÿä¼šè·Ÿç€å˜ã€‚</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240304205356609.png" alt="image-20240304205356609"></p>
<h3 id="Vueå¿«é€Ÿå…¥é—¨">Vueå¿«é€Ÿå…¥é—¨</h3>
<p><strong>å®‰è£…vue-cli</strong></p>
<p><code>npm install -g@vue/cli</code></p>
<p><strong>åˆ›å»ºé¡¹ç›®</strong></p>
<p><code>vue create my-project</code></p>
<p><strong>å¯åŠ¨é¡¹ç›®</strong></p>
<p><code>npm run serve</code></p>
<p>å¯¼å…¥vue.jsçš„scriptè„šæœ¬æ–‡ä»¶</p>
<script src="https://unpkg.com/vue@next"></script>
<p>åœ¨é¡µé¢ä¸­å£°æ˜ä¸€ä¸ªå°†è¦è¢«vueæ‰€æ§åˆ¶çš„DOMåŒºåŸŸï¼Œæ—¢MVVMä¸­çš„View</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºvmå®ä¾‹å¯¹è±¡(vue å®ä¾‹å¯¹è±¡)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const hello = &#123;</span><br><span class="line">//æŒ‡å®šæ•°æ®æºï¼Œæ—¢MVVMä¸­çš„Mode1</span><br><span class="line">	data: function() &#123;</span><br><span class="line">		return &#123;</span><br><span class="line">			message: &#x27;He11o vue! &#x27;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">const app = vue.createApp(he11o)</span><br><span class="line">app.mount(&#x27;#app&#x27;)//æŒ‡å®šå½“å‰vueå®ä¾‹è¦æ§åˆ¶é¡µé¢çš„å“ªä¸ªåŒºåŸŸ</span><br></pre></td></tr></table></figure>
<p><strong>ç»„ä»¶åŒ–å¼€å‘</strong></p>
<p>ç»„ä»¶(Component)æ˜¯Vue.jsæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ç»„ä»¶å¯ä»¥æ‰©å±•HTMLå…ƒç´ å°è£…å¯é‡ç”¨çš„ä»£ç ã€‚</p>
<p>Vueçš„ç»„ä»¶ç³»ç»Ÿå…è®¸æˆ‘ä»¬ä½¿ç”¨å°å‹ã€ç‹¬ç«‹å’Œé€šå¸¸å¯å¤ç”¨çš„ç»„ä»¶æ„å»ºå¤§å‹åº”ç”¨ã€‚</p>
<p><strong>ç»„ä»¶çš„æ„æˆ</strong><br>
Vueä¸­è§„å®šç»„ä»¶çš„åç¼€åæ˜¯.vue</p>
<p>æ¯ä¸ª.vue ç»„ä»¶éƒ½ç”±3éƒ¨åˆ†æ„æˆï¼Œåˆ†åˆ«æ˜¯</p>
<ul>
<li>templateï¼Œç»„ä»¶çš„æ¨¡æ¿ç»“æ„ï¼Œå¯ä»¥åŒ…å«HTMLæ ‡ç­¾åŠå…¶ä»–çš„ç»„ä»¶</li>
<li>scriptï¼Œç»„ä»¶çš„JavaScriptä»£ç </li>
<li>styleï¼Œç»„ä»¶çš„æ ·å¼</li>
</ul>
<p>vueé¡¹ç›®ä¸­æ²¡æœ‰node_modulesçš„è¯ï¼Œnpm run serveè·‘ä¸åŠ¨ï¼Œéœ€è¦å…ˆä¾èµ–package.jsonæ–‡ä»¶npm installä¸‹è½½å¥½node_modulesã€‚package.jsonç›¸å½“äºmavençš„pom.xml</p>
<h3 id="Axios">Axios</h3>
<p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå‰ç«¯é¡µé¢æ‰€éœ€è¦çš„æ•°æ®å¾€å¾€éœ€è¦ä»æœåŠ¡å™¨ç«¯è·å–ï¼Œè¿™å¿…ç„¶æ¶‰åŠä¸æœåŠ¡å™¨çš„é€šä¿¡ã€‚</p>
<p>Axiosæ˜¯ä¸€ä¸ªåŸºäºpromiseç½‘ç»œè¯·æ±‚åº“ï¼Œä½œç”¨äºnode.jså’Œæµè§ˆå™¨ä¸­ã€‚</p>
<p>Axios åœ¨æµè§ˆå™¨ç«¯ä½¿ç”¨XMLHttpRequestså‘é€ç½‘ç»œè¯·æ±‚ï¼Œå¹¶èƒ½è‡ªåŠ¨å®ŒæˆJSONæ•°æ®çš„è½¬æ¢ã€‚</p>
<p>å®‰è£…:<code>npm install axios</code><br>
åœ°å€: <a class="link" target="_blank" rel="noopener" href="https://www.axios-http.cn/">https://www.axios-http.cn/<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="å‘é€GETè¯·æ±‚">å‘é€GETè¯·æ±‚</h4>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‘ç»™å®šIDçš„ç”¨æˆ·å‘èµ·è¯·æ±‚</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    	<span class="comment">//å¤„ç†æˆåŠŸæƒ…å†µ</span></span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">	&#125;)</span><br><span class="line">	.<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    	<span class="comment">//å¤„ç†é”™è¯¯æƒ…å†µ</span></span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">	&#125;)</span><br><span class="line">	.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    	<span class="comment">//æ€»æ˜¯ä¼šæ‰§è¡Œ</span></span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è¯·æ±‚ä¹Ÿå¯æŒ‰ä»¥ä¸‹æ–¹å¼å®Œæˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">	<span class="attr">params</span>: &#123;</span><br><span class="line">		<span class="attr">ID</span>:<span class="number">12345</span>&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line">	.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>( response);&#125;)</span><br><span class="line">	.<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>( error);&#125;)</span><br><span class="line">	.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">/*æ€»æ˜¯ä¼šæ‰§è¡Œ*/</span>&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="å¼‚æ­¥å›è°ƒé—®é¢˜">å¼‚æ­¥å›è°ƒé—®é¢˜</h4>
<p>æ”¯æŒasync/awaitç”¨æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">	&#125;<span class="keyword">catch</span> (error) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</h4>
<p>axiosè¯·æ±‚æ•°æ®ä¹‹åï¼Œå°†æ•°æ®èµ‹ç»™dataä¸­çš„tableDataï¼Œtableç»„ä»¶ä¼šæ ¹æ®tableDataåŒå‘ç»‘å®šè‡ªåŠ¨æ¸²æŸ“ï¼Œä½†æ˜¯èµ‹å€¼çš„æ—¶å€™æ§åˆ¶å°æŠ¥é”™&quot;Uncaught (in promise) TypeError: Cannot set properties of undefined (setting â€˜tableDataï¿½) at eval&quot;ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    //methods</span><br><span class="line">    created()&#123;</span><br><span class="line">        //ç»„ä»¶è¢«æŒ‚è½½å®Œæ¯•ä¹‹åï¼Œaxioså‘é€ç½‘ç»œè¯·æ±‚</span><br><span class="line">        axios.get(&quot;http://localhost:8090/user/findAll&quot;).then(function(response)&#123;</span><br><span class="line">          //console.log(response)//å¼‚æ­¥å›è°ƒå‡½æ•°</span><br><span class="line">          this.tableData = response.data;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        tableData: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯å› ä¸ºä½¿ç”¨äº†functionå‡½æ•°ï¼Œåœ¨å‡½æ•°é‡Œé¢ï¼ŒthisæŒ‡å‘çš„æ˜¯å‡½æ•°æœ¬èº«ã€‚æŠŠå‡½æ•°functionæ”¹æˆç®­å¤´å‡½æ•°å³å¯ã€‚ç®­å¤´å‡½æ•°ç»‘å®šçˆ¶çº§ä½œç”¨åŸŸã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;http://localhost:8090/user/findAll&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">tableData</span> = response.<span class="property">data</span>;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="ä¸Vueæ•´åˆ">ä¸Vueæ•´åˆ</h4>
<p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå‡ ä¹æ¯ä¸ªç»„ä»¶ä¸­éƒ½ä¼šç”¨åˆ°axioså‘èµ·æ•°æ®è¯·æ±‚ã€‚æ­¤æ—¶ä¼šé‡åˆ°å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜:</p>
<ol>
<li>æ¯ä¸ªç»„ä»¶ä¸­éƒ½éœ€è¦å¯¼å…¥axios</li>
<li>æ¯æ¬¡å‘è¯·æ±‚éƒ½éœ€è¦å¡«å†™å®Œæ•´çš„è¯·æ±‚è·¯å¾„</li>
</ol>
<p>å¯ä»¥é€šè¿‡å…¨å±€é…ç½®çš„æ–¹å¼è§£å†³ä¸Šè¿°é—®é¢˜:</p>
<p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="comment">//é…ç½®è¯·æ±‚æ ¹è·¯å¾„</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://localhost:8090&#x27;</span></span><br><span class="line"><span class="comment">//å°†axiosä½œä¸ºå…¨å±€çš„è‡ªå®šä¹‰å±æ€§ï¼Œæ¯ä¸ªç»„ä»¶å¯ä»¥åœ¨å†…éƒ¨ç›´æ¥è®¿é—®(Vue2)</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$axios</span> = axios </span><br><span class="line"><span class="comment">//Vue3</span></span><br><span class="line">app.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$http</span>=axios  <span class="comment">//$åçš„åå­—è‡ªå®šä¹‰</span></span><br></pre></td></tr></table></figure>
<p>è®¾ç½®å®Œæˆä¹‹åï¼ŒåŸæ¥çš„<code>axios.get()</code>éœ€è¦ä¿®æ”¹ä¸º<code>this.$axios.get()</code></p>
<h3 id="VueRouter">VueRouter</h3>
<p>Vueè·¯ç”±vue-routeræ˜¯å®˜æ–¹çš„è·¯ç”±æ’ä»¶ï¼Œèƒ½å¤Ÿè½»æ¾çš„ç®¡ç†SPAé¡¹ç›®ä¸­ç»„ä»¶çš„åˆ‡æ¢ã€‚</p>
<p>Vueçš„å•é¡µé¢åº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥</p>
<p>vue-routerç›®å‰æœ‰3.xçš„ç‰ˆæœ¬å’Œ4.xçš„ç‰ˆæœ¬ï¼Œvue-router 3.x åªèƒ½ç»“åˆvue2è¿›è¡Œä½¿ç”¨ï¼Œvue-router 4.xåªèƒ½ç»“åˆvue3è¿›è¡Œä½¿ç”¨</p>
<p>å®‰è£…: <code>npm install vue-router@3</code></p>
<h3 id="è·¨åŸŸé—®é¢˜">è·¨åŸŸé—®é¢˜</h3>
<h4 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜"><strong>ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜</strong></h4>
<p>ä¸ºäº†ä¿è¯æµè§ˆå™¨çš„å®‰å…¨ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºï¼Œç§°ä¸º<a class="link" target="_blank" rel="noopener" href="https://juejin.cn/post/6995171035578368008">åŒæºç­–ç•¥<i class="fas fa-external-link-alt"></i></a>ï¼ŒåŒæºç­–ç•¥æ˜¯æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³ã€‚</p>
<p>åŒæºç­–ç•¥ï¼ˆSameoriginpolicy)æ˜¯ä¸€ç§çº¦å®šï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ã€‚</p>
<p>æ‰€è°“åŒæºï¼ˆå³æŒ‡åœ¨åŒä¸€ä¸ªåŸŸï¼‰å°±æ˜¯ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„åè®®(protocol)ï¼Œä¸»æœº(host)å’Œç«¯å£å·(port)ã€‚</p>
<p>å½“ä¸€ä¸ªè¯·æ±‚urlçš„åè®®ã€åŸŸåã€ç«¯å£ä¸‰è€…ä¹‹é—´ä»»æ„ä¸€ä¸ªä¸å½“å‰é¡µé¢urlä¸åŒå³ä¸ºè·¨åŸŸï¼Œæ­¤æ—¶æ— æ³•è¯»å–éåŒ</p>
<p>æºç½‘é¡µçš„Cookieï¼Œæ— æ³•å‘éåŒæºåœ°å€å‘é€AJAXè¯·æ±‚ã€‚</p>
<h4 id="è·¨åŸŸé—®é¢˜è§£å†³">è·¨åŸŸé—®é¢˜è§£å†³</h4>
<p>CORS (Cross-Origin Resource Sharingï¼‰æ˜¯ç”±W3Cåˆ¶å®šçš„ä¸€ç§è·¨åŸŸèµ„æºå…±äº«æŠ€æœ¯æ ‡å‡†ï¼Œå…¶ç›®çš„å°±æ˜¯ä¸ºäº†è§£å†³å‰ç«¯çš„è·¨åŸŸè¯·æ±‚ã€‚</p>
<p>CORSå¯ä»¥åœ¨ä¸ç ´åå³æœ‰è§„åˆ™çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡åç«¯æœåŠ¡å™¨å®ç°CORSæ¥å£ï¼Œä»è€Œå®ç°è·¨åŸŸé€šä¿¡ã€‚</p>
<p>CORSå°†è¯·æ±‚åˆ†ä¸ºä¸¤ç±»:ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ï¼Œåˆ†åˆ«å¯¹è·¨åŸŸé€šä¿¡æä¾›äº†æ”¯æŒã€‚</p>
<p><strong>ç®€å•è¯·æ±‚</strong></p>
<p>æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„è¯·æ±‚å³ä¸ºç®€å•è¯·æ±‚:</p>
<p>1.è¯·æ±‚æ–¹æ³•:GETã€POSTã€HEAD</p>
<p>2.é™¤äº†ä»¥ä¸‹çš„è¯·æ±‚å¤´å­—æ®µä¹‹å¤–ï¼Œæ²¡æœ‰è‡ªå®šä¹‰çš„è¯·æ±‚å¤´:</p>
<p>Acceptã€Accept-Languageã€Content-Languageã€Last-Event-IDã€Content-Type</p>
<p>3.Content-Typeçš„å€¼åªæœ‰ä»¥ä¸‹ä¸‰ç§:<br>
text/plainã€multipart/form-dataã€application/x-www-form-urlencoded</p>
<p>å¯¹äºç®€å•è¯·æ±‚ï¼ŒCORSçš„ç­–ç•¥æ˜¯è¯·æ±‚æ—¶åœ¨è¯·æ±‚å¤´ä¸­å¢åŠ ä¸€ä¸ªOriginå­—æ®µã€‚æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œæ ¹æ®è¯¥å­—æ®µåˆ¤æ–­æ˜¯å¦å…è®¸è¯¥è¯·æ±‚è®¿é—®ï¼Œå¦‚æœå…è®¸ï¼Œåˆ™åœ¨HTTPå¤´ä¿¡æ¯ä¸­æ·»åŠ Access-Control-Allow-Originå­—æ®µã€‚</p>
<p><strong>éç®€å•è¯·æ±‚</strong></p>
<p>å¯¹äºéç®€å•è¯·æ±‚çš„è·¨æºè¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šåœ¨çœŸå®è¯·æ±‚å‘å‡ºå‰å¢åŠ ä¸€æ¬¡<strong>OPTIONè¯·æ±‚</strong>ï¼Œç§°ä¸º<strong>é¢„æ£€è¯·æ±‚</strong>(preflight request)</p>
<p>é¢„æ£€è¯·æ±‚å°†<strong>çœŸå®è¯·æ±‚çš„ä¿¡æ¯</strong>ï¼ŒåŒ…æ‹¬<strong>è¯·æ±‚æ–¹æ³•</strong>ã€<strong>è‡ªå®šä¹‰å¤´å­—æ®µ</strong>ã€<strong>æºä¿¡æ¯</strong>æ·»åŠ åˆ°HTTPå¤´ä¿¡æ¯å­—æ®µä¸­ï¼Œè¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸è¿™æ ·çš„æ“ä½œã€‚</p>
<p>ä¾‹å¦‚ä¸€ä¸ªGETè¯·æ±‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OPTIONS /test HTTP/1.1</span><br><span class="line">Origin: http:// www.test.com</span><br><span class="line">Access-Control-Request-Method: GET</span><br><span class="line">Access-Control-Request-Headers: X-Custom-HeaderHost: www.test.com</span><br></pre></td></tr></table></figure>
<p>Access-Control-Request-Methodè¡¨ç¤ºè¯·æ±‚ä½¿ç”¨çš„HTTPæ–¹æ³•ï¼ŒAccess-Control-Request-HeadersåŒ…å«è¯·æ±‚çš„è‡ªå®šä¹‰å¤´å­—æ®µã€‚</p>
<p>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œéœ€è¦åˆ†åˆ«å¯¹Originã€Access-Control-Request-Methodã€Access-Control-Request-Headersè¿›è¡ŒéªŒè¯ï¼ŒéªŒè¯é€šè¿‡åï¼Œä¼šåœ¨è¿”å›HTTPå¤´ä¿¡æ¯ä¸­æ·»åŠ :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http://www.test.com</span><br><span class="line">Access-Control-Allow-Methods: GET,POST, PUT, DELETE</span><br><span class="line">Access-Control-Allow-Headers: X-Custom-Header</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Max-Age: 1728000</span><br></pre></td></tr></table></figure>
<p>Access-Control-Allow-Methodsã€Access-Control-Allow-Headers:çœŸå®è¯·æ±‚å…è®¸çš„æ–¹æ³•ã€å…è®¸ä½¿ç”¨çš„å­—æ®µã€‚</p>
<p>Access-Control-Allow-Credentials:æ˜¯å¦å…è®¸ç”¨æˆ·å‘é€ã€å¤„ç†cookieã€‚</p>
<p>Access-Control-Max-Age:é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ï¼Œæœ‰æ•ˆæœŸå†…ä¸ä¼šé‡å¤å‘é€é¢„æ£€è¯·æ±‚ã€‚</p>
<hr>
<h3 id="Spring-Bootä¸­é…ç½®CORS">Spring Bootä¸­é…ç½®CORS</h3>
<p>å¦‚æœé¡¹ç›®ä¸­æœ‰å…¶å®ƒç±»ä¹Ÿç»§æ‰¿äº†webMvcConfigurerï¼Œé‚£ä¹ˆæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œéœ€è¦è®¾ç½®æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºï¼Œä»¤CorsConfigå…ˆæ‰§è¡Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CorsConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FilterRegistrationBean&lt;CorsFilter&gt; <span class="title function_">corsFilterRegistrationBean</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">        <span class="type">CorsConfiguration</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">        config.addAllowedOriginPattern(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        config.addAllowedHeader(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        config.setAllowCredentials(<span class="literal">true</span>);</span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, config); <span class="comment">// CORS é…ç½®å¯¹æ‰€æœ‰æ¥å£éƒ½æœ‰æ•ˆ</span></span><br><span class="line">        FilterRegistrationBean&lt;CorsFilter&gt; bean = <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">CorsFilter</span>(source));</span><br><span class="line">        <span class="comment">//è®¾ç½®æ‰§è¡Œé¡ºåºï¼Œæ•°å­—è¶Šå°è¶Šå…ˆæ‰§è¡Œ</span></span><br><span class="line">        bean.setOrder(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…åœ¨å¯¹åº”çš„æ§åˆ¶å™¨ä¸ŠåŠ ä¸Š@CrosOriginæ³¨è§£ï¼Œå…è®¸è¯¥æ§åˆ¶å™¨ä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½èƒ½è·¨åŸŸã€‚</p>
<h3 id="ç®€å•å¤åˆ»ç½‘æ˜“äº‘é¡µé¢-å•é¡µé¢">ç®€å•å¤åˆ»ç½‘æ˜“äº‘é¡µé¢(å•é¡µé¢)</h3>
<p>åˆ›å»ºä¸‰ä¸ªç»„ä»¶(discover,my,friends)ï¼Œä¸éœ€è¦å†App.vueä¸­æ³¨å†Œç»„ä»¶å±æ€§ï¼Œéœ€è¦å£°æ˜è·¯ç”±é“¾æ¥å’Œè·¯ç”±å ä½ç¬¦ã€‚</p>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- å£°æ˜è·¯ç”±é“¾æ¥ --&gt;</span><br><span class="line">    &lt;router-link to=&quot;/discover&quot;&gt;å‘ç°éŸ³ä¹&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/my&quot;&gt;æˆ‘çš„éŸ³ä¹&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/friend&quot;&gt;å…³æ³¨&lt;/router-link&gt;</span><br><span class="line">     &lt;!-- å£°æ˜è·¯ç”±å ä½æ ‡ç­¾ --&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºä¸€ä¸ªindex.jsæ–‡ä»¶å®šä¹‰å¯¹åº”å…³ç³»</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Discover</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Discover.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friends</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Friends.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&quot;@/components/My.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†VueRouterè®¾ç½®ä¸ºvueçš„æ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">//æŒ‡å®šhashå±æ€§ä¸ç»„ä»¶çš„å¯¹åº”å…³ç³»</span></span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,<span class="attr">redirect</span>:<span class="string">&quot;/discover&quot;</span>&#125;,<span class="comment">//ä¸»é¡µé‡å®šå‘åˆ°discover</span></span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/discover&quot;</span>,<span class="attr">component</span>:<span class="title class_">Discover</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/friends&quot;</span>,<span class="attr">component</span>:<span class="title class_">Friends</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/my&quot;</span>,<span class="attr">component</span>:<span class="title class_">My</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>
<p>è·¯ç”±å¯¼å‡ºåˆ°main.jsä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="attr">router</span>:router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>åµŒå¥—è·¯ç”±</p>
<p>åœ¨Discover.vueç»„ä»¶ä¸­ï¼Œå¯ä»¥å†å£°æ˜åˆ«çš„è·¯ç”±é“¾æ¥å’Œè·¯ç”±å ä½ç¬¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;å‘ç°éŸ³ä¹&lt;/h1&gt;</span><br><span class="line">        &lt;!-- å­è·¯ç”±é“¾æ¥ --&gt;</span><br><span class="line">        &lt;router-link to=&quot;/discover/toplist&quot;&gt;æ¨è&lt;/router-link&gt;</span><br><span class="line">        &lt;router-link to=&quot;/discover/playlist&quot;&gt;æ­Œå•&lt;/router-link&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Discover</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Discover.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friends</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Friends.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&quot;@/components/My.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">TopList</span> <span class="keyword">from</span> <span class="string">&quot;@/components/TopList.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PlayList</span> <span class="keyword">from</span> <span class="string">&quot;@/components/PlayList.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†VueRouterè®¾ç½®ä¸ºvueçš„æ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">//æŒ‡å®šhashå±æ€§ä¸ç»„ä»¶çš„å¯¹åº”å…³ç³»</span></span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,<span class="attr">redirect</span>:<span class="string">&quot;/discover&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/discover&quot;</span>,<span class="attr">component</span>:<span class="title class_">Discover</span>,</span><br><span class="line">        <span class="comment">//é€šè¿‡childrenå±æ€§ï¼ŒåµŒå¥—å®šä¹‰å­è·¯ç”±</span></span><br><span class="line">          <span class="attr">children</span>:[</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;toplist&quot;</span>,<span class="attr">component</span>:<span class="title class_">TopList</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;playlist&quot;</span>,<span class="attr">component</span>:<span class="title class_">PlayList</span>&#125;</span><br><span class="line">          ]      </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/friends&quot;</span>,<span class="attr">component</span>:<span class="title class_">Friends</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/my&quot;</span>,<span class="attr">component</span>:<span class="title class_">My</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>
<p>å¯¼å‡ºrouterï¼Œåœ¨main.jsä¸­å¯¼å…¥routerï¼Œå¹¶æ·»åŠ routerå±æ€§ï¼Œè¿™æ ·å…¶å®ƒç»„ä»¶å¯ä»¥ä½¿ç”¨<code>this.$router</code>æ¥è®¿é—®router</p>
<h4 id="åŠ¨æ€è·¯ç”±">åŠ¨æ€è·¯ç”±</h4>
<p>æœ‰ä»¥ä¸‹3ä¸ªè·¯ç”±é“¾æ¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/product1&quot;</span>&gt;</span>å•†å“1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/product2&quot;</span>&gt;</span>å•†å“2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/product3&quot;</span>&gt;</span>å•†å“3<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&#x27;/product1&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&#x27;/product2&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&#x27;/product3&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°æ–¹å¼å¤ç”¨æ€§éå¸¸å·®</p>
<p>åŠ¨æ€è·¯ç”±å¯ä»¥æé«˜å¤ç”¨æ€§ã€‚åŠ¨æ€è·¯ç”±ï¼šæŠŠHashåœ°å€ä¸­å¯å˜çš„éƒ¨åˆ†å®šä¹‰ä¸ºå‚æ•°é¡¹ï¼Œä»è€Œæé«˜è·¯ç”±è§„åˆ™çš„å¤ç”¨æ€§ã€‚åœ¨vue-routerä¸­ä½¿ç”¨è‹±æ–‡ç¬¦å·å†’å·æ¥å®šä¹‰è·¯ç”±çš„å‚æ•°é¡¹ã€‚</p>
<p><code>&#123;path:'/product/:id',component:Product&#125;</code></p>
<p>åœ¨Myä¸­åµŒå¥—3ä¸ªProductå­è·¯ç”±</p>
<p>router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">path</span>:<span class="string">&quot;/my&quot;</span>,<span class="attr">component</span>:<span class="title class_">My</span>,</span><br><span class="line">          <span class="attr">children</span>:[</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;:id&quot;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">          ]  </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡åŠ¨æ€è·¯ç”±åŒ¹é…çš„æ–¹å¼æ¸²æŸ“å‡ºæ¥çš„ç»„ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>$route.params</code>å¯¹è±¡è®¿é—®åˆ°åŠ¨æ€åŒ¹é…çš„å‚æ•°å€¼ï¼Œæ¯”å¦‚åœ¨å•†å“ç»„ä»¶çš„å†…éƒ¨ï¼Œæ ¹æ®idå€¼ï¼Œè¯·æ±‚ä¸åŒçš„å•†å“æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h3&gt;Productç»„ä»¶&#123;&#123;$route.params.id&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;!-- è·å–åŠ¨æ€çš„idå€¼ --&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>è·å–è·¯ç”±å‚æ•°è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€ä¾¿çš„æ–¹å¼ã€‚vue-routerå…è®¸åœ¨è·¯ç”±è§„åˆ™ä¸­å¼€å¯propsä¼ å‚:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;/product/:id&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>,<span class="attr">props</span>:<span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶åœ¨ç»„ä»¶ä¸­å®šä¹‰å±æ€§åç§°</p>
<p>Product.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h3&gt;Productç»„ä»¶&#123;&#123;id&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;!-- è·å–åŠ¨æ€çš„idå€¼ --&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props:[&#x27;id&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>å¯¼èˆªå®ˆå«</strong></p>
<p>å¯¼èˆªå®ˆå«å¯ä»¥æ§åˆ¶è·¯ç”±çš„è®¿é—®æƒé™ã€‚ç±»ä¼¼åç«¯çš„æ‹¦æˆªå™¨ã€‚</p>
<p>å…¨å±€å¯¼èˆªå®ˆå«ä¼šæ‹¦æˆªæ¯ä¸ªè·¯ç”±è§„åˆ™ï¼Œä»è€Œå¯¹æ¯ä¸ªè·¯ç”±è¿›è¡Œè®¿é—®æƒé™çš„æ§åˆ¶ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨<code>router.beforeEach</code>æ³¨å†Œä¸€ä¸ªå…¨å±€å‰ç½®å®ˆå«</p>
<h3 id="çŠ¶æ€ç®¡ç†Vuex">çŠ¶æ€ç®¡ç†Vuex</h3>
<p>å¯¹äºç»„ä»¶åŒ–å¼€å‘æ¥è¯´ï¼Œå¤§å‹åº”ç”¨çš„çŠ¶æ€å¾€å¾€è·¨è¶Šå¤šä¸ªç»„ä»¶ã€‚åœ¨å¤šå±‚åµŒå¥—çš„çˆ¶å­ç»„ä»¶ä¹‹é—´ä¼ é€’çŠ¶æ€å·²ç»ååˆ†éº»çƒ¦ï¼Œè€ŒVueæ›´æ˜¯æ²¡æœ‰ä¸ºå…„å¼Ÿç»„ä»¶æä¾›ç›´æ¥å…±äº«æ•°æ®çš„åŠæ³•ã€‚</p>
<p>åŸºäºè¿™ä¸ªé—®é¢˜ï¼Œè®¸å¤šæ¡†æ¶æä¾›äº†è§£å†³æ–¹æ¡ˆâ€”â€”ä½¿ç”¨å…¨å±€çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œ<strong>å°†æ‰€æœ‰åˆ†æ•£çš„å…±äº«æ•°æ®äº¤ç”±çŠ¶æ€ç®¡ç†å™¨ä¿ç®¡</strong>ï¼ŒVueä¹Ÿä¸ä¾‹å¤–ã€‚</p>
<p>Vuexæ˜¯ä¸€ä¸ªä¸“ä¸ºVue.jsåº”ç”¨ç¨‹åºå¼€å‘çš„<strong>çŠ¶æ€ç®¡ç†åº“</strong>ï¼Œé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ã€‚</p>
<p>ç®€å•çš„è¯´ï¼Œ<strong>Vuexç”¨äºç®¡ç†åˆ†æ•£åœ¨Vueå„ä¸ªç»„ä»¶ä¸­çš„æ•°æ®</strong>ã€‚</p>
<p>å®‰è£…: <code>npm install vuex@3</code>    vuex3å¯¹åº”vue2ç‰ˆæœ¬</p>
<p>æ¯ä¸€ä¸ªVuexåº”ç”¨çš„æ ¸å¿ƒéƒ½æ˜¯ä¸€ä¸ªstoreï¼Œä¸æ™®é€šçš„å…¨å±€å¯¹è±¡ä¸åŒçš„æ˜¯ï¼ŒåŸºäºVueæ•°æ®ä¸è§†å›¾ç»‘å®šçš„ç‰¹ç‚¹ï¼Œå½“storeä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸ä¹‹ç»‘å®šçš„è§†å›¾ä¹Ÿä¼šåˆè¢«é‡æ–°æ¸²æŸ“ã€‚</p>
<p>storeä¸­çš„çŠ¶æ€ä¸å…è®¸è¢«ç›´æ¥ä¿®æ”¹ï¼Œæ”¹å˜storeä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤(commit) mutationï¼Œè¿™å¯ä»¥ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚</p>
<p>åœ¨å¤§å‹å¤æ‚åº”ç”¨ä¸­ï¼Œå¦‚æœæ— æ³•æœ‰æ•ˆåœ°è·Ÿè¸ªåˆ°çŠ¶æ€çš„å˜åŒ–ï¼Œå°†ä¼šå¯¹ç†è§£å’Œç»´æŠ¤ä»£ç å¸¦æ¥æå¤§çš„å›°æ‰°ã€‚</p>
<p>vuexä¸­æœ‰5ä¸ªé‡è¦çš„æ¦‚å¿µ:Stateã€Getterã€Mutationã€Actionã€Moduleã€‚</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240305202055965.png" alt="image-20240305202055965"></p>
<p>Stateç”¨äºç»´æŠ¤æ‰€æœ‰åº”ç”¨å±‚çš„çŠ¶æ€ï¼Œå¹¶ç¡®ä¿åº”ç”¨åªæœ‰å”¯ä¸€çš„æ•°æ®æºã€‚</p>
<p>src/store/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªstoreå®ä¾‹,å­˜å‚¨æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">count</span>:<span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>:&#123;</span><br><span class="line">        <span class="title function_">increment</span>(<span class="params">state</span>)&#123;</span><br><span class="line">            state.<span class="property">count</span>++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure>
<p>ç±»ä¼¼äºrouterï¼Œå¯¼å‡ºstoreï¼Œåœ¨main.jsä¸­å¯¼å…¥ï¼Œæ·»åŠ <code>store:store</code>å±æ€§</p>
<p>åœ¨ç»„ä»¶ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨this.$store.state.countè®¿é—®æ•°æ®ï¼Œä¹Ÿå¯ä»¥å…ˆç”¨mapStateè¾…åŠ©å‡½æ•°å°†å…¶æ˜ å°„ä¸‹æ¥ã€‚</p>
<p>æ“ä½œstateéœ€è¦è§¦å‘mutationsï¼Œåœ¨æ–¹æ³•ä¸­åšcommitå¯ä»¥è§¦å‘mutations:</p>
<p>æŸç»„ä»¶.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &#123;&#123; this.$store.state.count &#125;&#125;</span><br><span class="line">    &lt;button @click=&quot;add&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HelloWorld&#x27;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    add()&#123;</span><br><span class="line">      this.$store.commit(&#x27;increment&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Mock-js">Mock.js</h2>
<p>Mock.jsæ˜¯ä¸€æ¬¾å‰ç«¯å¼€å‘ä¸­æ‹¦æˆªAjaxè¯·æ±‚å†ç”Ÿæˆéšæœºæ•°æ®å“åº”çš„å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ¨¡æ‹ŸæœåŠ¡å™¨å“åº”ã€‚</p>
<p>ä¼˜ç‚¹æ˜¯éå¸¸ç®€å•æ–¹ä¾¿,æ— ä¾µå…¥æ€§,åŸºæœ¬è¦†ç›–å¸¸ç”¨çš„æ¥å£æ•°æ®ç±»å‹ã€‚</p>
<p>æ”¯æŒç”Ÿæˆéšæœºçš„æ–‡æœ¬ã€æ•°å­—ã€å¸ƒå°”å€¼ã€æ—¥æœŸã€é‚®ç®±ã€é“¾æ¥ã€å›¾ç‰‡ã€é¢œè‰²ç­‰ã€‚</p>
<p>å®‰è£…:<code>npm install mockjs</code></p>
<p>åœ¨é¡¹ç›®ä¸­åˆ›å»ºmockç›®å½•ï¼Œæ–°å»ºindex.jsæ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥mockjs</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Mock</span> <span class="keyword">from</span> <span class="string">&#x27;mockjs &#x27;</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨mockjsæ¨¡æ‹Ÿæ•°æ®</span></span><br><span class="line"><span class="comment">//å‰ç«¯å‘&#x27;/product/search&#x27;å‘é€è¯·æ±‚æ—¶ï¼Œä¼šè¢«mockæ‹¦æˆªä¸‹æ¥ï¼Œç”±mockç»™å®ƒæä¾›æ¨¡æ‹Ÿçš„æ•°æ®</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">mock</span>( <span class="string">&#x27;/product/search&#x27;</span>,&#123;</span><br><span class="line">	<span class="string">&quot;ret&quot;</span> :<span class="number">0</span>,</span><br><span class="line">	<span class="string">&quot;data&quot;</span> :</span><br><span class="line">      &#123;</span><br><span class="line">		<span class="string">&quot;mtime&quot;</span>: <span class="string">&quot;adatetime &quot;</span> ,<span class="comment">//éšæœºç”Ÿæˆæ—¥æœŸæ—¶é—´</span></span><br><span class="line">    	<span class="string">&quot;score| 1-800&quot;</span>: <span class="number">1</span>,<span class="comment">//éšæœºç”Ÿæˆ1-800çš„æ•°å­— å†’å·åé¢è·Ÿç€çš„æ•°å­—ä»…ä»…æ˜¯ä¸ºäº†ç¡®å®šæ•°æ®ç±»å‹</span></span><br><span class="line">    	<span class="string">&quot;rank|1-100&quot;</span>:<span class="number">1</span>,<span class="comment">//éšæœºç”Ÿæˆ1-100çš„æ•°å­—</span></span><br><span class="line">    	<span class="string">&quot;stars|1-5&quot;</span>: <span class="number">1</span>,<span class="comment">//éšæœºç”Ÿæˆ1-5çš„æ•°å­—</span></span><br><span class="line">		<span class="string">&quot;nickname&quot;</span>:<span class="string">&quot;@cname &quot;</span> ,<span class="comment">//éšæœºç”Ÿæˆä¸­æ–‡åå­—</span></span><br><span class="line">        <span class="string">&quot;img&quot;</span>:<span class="string">&quot;@image(&#x27;200x100&#x27;, &#x27;#50a3ff&#x27;, &#x27;#FFF&#x27;, &#x27;png&#x27;, &#x27;Mock.js&#x27;)&quot;</span> ,<span class="comment">//éšæœºç”Ÿæˆå›¾ç‰‡</span></span><br><span class="line">	  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ç»„ä»¶ä¸­è°ƒç”¨<strong>mock.js</strong>ä¸­æ¨¡æ‹Ÿçš„æ•°æ®æ¥å£ï¼Œè¿™æ—¶è¿”å›çš„<strong>response</strong>å°±æ˜¯<strong>mock.js</strong>ä¸­ç”¨<code>Mock.mock( 'url' ,data)</code>ä¸­è®¾ç½®çš„<strong>data</strong>ã€‚å‰ææ˜¯è¦åœ¨<strong>main.js</strong>ä¸­å¯¼å…¥mock(<code>import './mock'</code>)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">	<span class="attr">mounted</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">		axios.<span class="title function_">get</span>(<span class="string">&quot;/product/search&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>)=&gt;</span>&#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(response)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>responseçš„å€¼å°±æ˜¯mockä¸­dataçš„å€¼</p>
<p><strong>æ ¸å¿ƒæ–¹æ³•</strong><br>
<code>Mock.mock( rurl?, rtype?, template|function( options ) )</code></p>
<ul>
<li><strong>rurl</strong>ï¼Œè¡¨ç¤ºéœ€è¦æ‹¦æˆªçš„URLï¼Œå¯ä»¥æ˜¯URLå­—ç¬¦ä¸²æˆ–URL æ­£åˆ™ç­‰ã€‚</li>
<li><strong>rtype</strong>ï¼Œè¡¨ç¤ºéœ€è¦æ‹¦æˆªçš„Ajaxè¯·æ±‚ç±»å‹ã€‚ä¾‹å¦‚<strong>GET</strong>ã€<strong>POST</strong>ã€<strong>PUT</strong>ã€<strong>DELETE</strong>ã€‚</li>
<li><strong>template</strong>ï¼Œè¡¨ç¤ºæ•°æ®æ¨¡æ¿ï¼Œå¯ä»¥æ˜¯å¯¹è±¡æˆ–å­—ç¬¦ä¸²ã€‚</li>
<li>functionï¼Œè¡¨ç¤ºç”¨äºç”Ÿæˆå“åº”æ•°æ®çš„å‡½æ•°ã€‚</li>
</ul>
<p>è®¾ç½®å»¶æ—¶è¯·æ±‚åˆ°æ•°æ®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å»¶æ—¶400msè¯·æ±‚åˆ°æ•°æ®</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">setup</span>(&#123;</span><br><span class="line">	<span class="attr">timeout</span>: <span class="number">400</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//å»¶æ—¶200-600æ¯«ç§’è¯·æ±‚åˆ°æ•°æ®</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">setup</span>(&#123;</span><br><span class="line">	<span class="attr">timeout</span>: <span class="string">&#x27;200-60o&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>[Mock.jså®˜æ–¹æ–‡æ¡£](<a class="link" target="_blank" rel="noopener" href="http://mockjs.com/0.1/#">Mock.js (mockjs.com)<i class="fas fa-external-link-alt"></i></a>)</p>
<h2 id="vue-element-adminåå°é›†æˆæ–¹æ¡ˆ">vue-element-adminåå°é›†æˆæ–¹æ¡ˆ</h2>
<p>vue-element-adminæ˜¯ä¸€ä¸ªåå°å‰ç«¯è§£å†³æ–¹æ¡ˆï¼Œå®ƒåŸºäºvueå’Œelement-uiå®ç°ã€‚</p>
<p>å†…ç½®äº†i18å›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼ŒåŠ¨æ€è·¯ç”±ï¼Œæƒé™éªŒè¯ï¼Œæç‚¼äº†å…¸å‹çš„ä¸šåŠ¡æ¨¡å‹,æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ç»„ä»¶ã€‚</p>
<p>å¯ä»¥å¿«é€Ÿæ­å»ºä¼ä¸šçº§ä¸­åå°äº§å“åŸå‹ã€‚</p>
<p><a class="link" target="_blank" rel="noopener" href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/">vue-element-adminå®˜ç½‘<i class="fas fa-external-link-alt"></i></a></p>
<p>å®˜ç½‘ä¸­æä¾›äº†<a class="link" target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-element-admin/blob/master/README.zh-CN.md">é›†æˆæ–¹æ¡ˆ<i class="fas fa-external-link-alt"></i></a>å’Œ<a class="link" target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-admin-template/blob/master/README-zh.md">åŸºç¡€æ¨¡æ¿<i class="fas fa-external-link-alt"></i></a>ï¼Œä¸¤è€…æ¶æ„ç›¸åŒã€‚</p>
<p>åŸºç¡€æ¨¡æ¿ä¸‹è½½åˆ°æœ¬åœ°åï¼Œæ‰§è¡Œ<code>npm install</code>å®‰è£…<code>node_modules</code>ï¼Œæ‰§è¡Œ<code>npm run dev</code>å¯åŠ¨é¡¹ç›®ã€‚</p>
<h2 id="JWTè·¨åŸŸè®¤è¯">JWTè·¨åŸŸè®¤è¯</h2>
<h3 id="Sessionè®¤è¯">Sessionè®¤è¯</h3>
<p>äº’è”ç½‘æœåŠ¡ç¦»ä¸å¼€ç”¨æˆ·è®¤è¯ã€‚ä¸€èˆ¬æµç¨‹æ˜¯ä¸‹é¢è¿™æ ·ã€‚</p>
<ol>
<li>ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·åå’Œå¯†ç ã€‚</li>
<li>æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼Œåœ¨å½“å‰å¯¹è¯ï¼ˆsessionï¼‰é‡Œé¢ä¿å­˜ç›¸å…³æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·è§’è‰²ç™»å½•æ—¶é—´ç­‰ã€‚</li>
<li>æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›ä¸€ä¸ªsession_idï¼Œå†™å…¥ç”¨æˆ·çš„Cookieã€‚</li>
<li>ç”¨æˆ·éšåçš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šé€šè¿‡Cookieï¼Œå°†session_id ä¼ å›æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ”¶åˆ° session_idï¼Œæ‰¾åˆ°å‰æœŸä¿å­˜çš„æ•°æ®ï¼Œç”±æ­¤å¾—çŸ¥ç”¨æˆ·çš„èº«ä»½ã€‚</li>
</ol>
<p><strong>sessionè®¤è¯æµç¨‹ï¼š</strong></p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240306163028799.png" alt="image-20240306163028799" style="zoom: 50%;">
<p>sessionè®¤è¯çš„æ–¹å¼åº”ç”¨éå¸¸æ™®éï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ‰©å±•æ€§ä¸å¥½ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨é›†ç¾¤æˆ–è€…æ˜¯è·¨åŸŸçš„æœåŠ¡å¯¼å‘æ¶æ„ï¼Œå°±è¦æ±‚session æ•°æ®å…±äº«ï¼Œæ¯å°æœåŠ¡å™¨éƒ½èƒ½å¤Ÿè¯»å–sessionã€‚é’ˆå¯¹æ­¤ç§é—®é¢˜ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ¡ˆ:</p>
<ol>
<li>â€”ç§è§£å†³æ–¹æ¡ˆæ˜¯sessionæ•°æ®æŒä¹…åŒ–ï¼Œå†™å…¥æ•°æ®åº“æˆ–åˆ«çš„æŒä¹…å±‚ã€‚å„ç§æœåŠ¡æ”¶<br>
åˆ°è¯·æ±‚åï¼Œéƒ½å‘æŒä¹…å±‚è¯·æ±‚æ•°æ®ã€‚è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯æ¶æ„æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯å·¥ç¨‹é‡æ¯”è¾ƒå¤§ã€‚</li>
<li>ä¸€ç§æ–¹æ¡ˆæ˜¯æœåŠ¡å™¨ä¸å†ä¿å­˜session æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡è¯·<br>
æ±‚éƒ½å‘å›æœåŠ¡å™¨ã€‚Tokenè®¤è¯å°±æ˜¯è¿™ç§æ–¹æ¡ˆçš„ä¸€ä¸ªä»£è¡¨ã€‚</li>
</ol>
<h3 id="Tokenè®¤è¯">Tokenè®¤è¯</h3>
<p>Tokenæ˜¯åœ¨æœåŠ¡ç«¯äº§ç”Ÿçš„ä¸€ä¸²å­—ç¬¦ä¸²,æ˜¯å®¢æˆ·ç«¯è®¿é—®èµ„æºæ¥å£(API)æ—¶æ‰€éœ€è¦çš„èµ„æºå‡­è¯ï¼Œæµç¨‹å¦‚ä¸‹:</p>
<ol>
<li>å®¢æˆ·ç«¯ä½¿ç”¨ç”¨æˆ·åè·Ÿå¯†ç è¯·æ±‚ç™»å½•ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œå»éªŒè¯ç”¨æˆ·åä¸å¯†ç ï¼ŒéªŒè¯æˆåŠŸåï¼ŒæœåŠ¡ç«¯ä¼šç­¾å‘ä¸€ä¸ªtokenå¹¶æŠŠè¿™ä¸ªtokenå‘é€ç»™å®¢æˆ·ç«¯ã€‚</li>
<li>å®¢æˆ·ç«¯æ”¶åˆ°tokenä»¥åï¼Œä¼šæŠŠå®ƒå­˜å‚¨èµ·æ¥ï¼Œæ¯”å¦‚æ”¾åœ¨cookieé‡Œæˆ–è€…localStorageé‡Œã€‚</li>
<li>å®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡ç«¯è¯·æ±‚èµ„æºçš„æ—¶å€™éœ€è¦å¸¦ç€æœåŠ¡ç«¯ç­¾å‘çš„tokenã€‚</li>
<li>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œç„¶åå»éªŒè¯å®¢æˆ·ç«¯è¯·æ±‚é‡Œé¢å¸¦ç€çš„tokenï¼Œå¦‚æœéªŒè¯æˆåŠŸï¼Œå°±å‘å®¢æˆ·ç«¯è¿”å›è¯·æ±‚çš„æ•°æ®ã€‚</li>
</ol>
<p><strong>Tokenè®¤è¯æµç¨‹:</strong></p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240306163704661.png" alt="image-20240306163704661" style="zoom: 50%;">
<p>åŸºäºtokençš„ç”¨æˆ·è®¤è¯æ˜¯ä¸€ç§æœåŠ¡ç«¯æ— çŠ¶æ€çš„è®¤è¯æ–¹å¼ï¼ŒæœåŠ¡ç«¯ä¸ç”¨å­˜æ”¾token æ•°æ®ã€‚</p>
<p>ç”¨è§£ætokençš„è®¡ç®—æ—¶é—´æ¢å–session çš„å­˜å‚¨ç©ºé—´ï¼Œä»è€Œå‡è½»æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå‡å°‘é¢‘ç¹çš„æŸ¥è¯¢æ•°æ®åº“ã€‚</p>
<p>tokenå®Œå…¨ç”±åº”ç”¨ç®¡ç†ï¼ŒäºæœåŠ¡å™¨æ¥è¯´ï¼Œå®ƒå¯ä»¥é€šè¿‡ token æ¥éªŒè¯è¯·æ±‚çš„æ¥æºå’Œæƒé™ï¼Œè€Œä¸å—æµè§ˆå™¨çš„åŒæºç­–ç•¥çš„é™åˆ¶ã€‚æ‰€ä»¥å®ƒå¯ä»¥é¿å¼€åŒæºç­–ç•¥ã€‚</p>
<p>ä½¿ç”¨éªŒè¯ token æ¥è§„é¿åŒæºç­–ç•¥ä¸ä¼šå¸¦æ¥ç›´æ¥çš„å±å®³ï¼Œä½†å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›æ½œåœ¨çš„å®‰å…¨é£é™©:</p>
<ol>
<li><strong>ä»¤ç‰Œæ³„éœ²ï¼š</strong> å¦‚æœ token è¢«æ³„éœ²ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šä½¿ç”¨è¯¥ token è®¿é—®å—ä¿æŠ¤çš„èµ„æºï¼Œä»è€Œå¯¼è‡´å®‰å…¨æ¼æ´ã€‚</li>
<li><strong>ä¼ªé€ ä»¤ç‰Œï¼š</strong> å¦‚æœä»¤ç‰Œå¯ä»¥è¢«è½»æ˜“ä¼ªé€ æˆ–ç¯¡æ”¹ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šåˆ›å»ºä¼ªé€ çš„ token æ¥è®¿é—®èµ„æºã€‚</li>
<li><strong>è¿‡æœŸæˆ–æ— æ•ˆä»¤ç‰Œï¼š</strong> å¦‚æœä»¤ç‰Œä¸æ­£ç¡®åœ°ç®¡ç†å’Œæ›´æ–°ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡æœŸæˆ–æ— æ•ˆçš„ä»¤ç‰Œè¢«æ¥å—ï¼Œä»è€Œé™ä½äº†å®‰å…¨æ€§ã€‚</li>
</ol>
<p>ä¸ºäº†æœ€å¤§ç¨‹åº¦åœ°å‡å°‘è¿™äº›é£é™©ï¼Œåº”è¯¥é‡‡å–ä¸€äº›æªæ–½ï¼Œå¦‚ï¼š</p>
<ul>
<li>ä½¿ç”¨å®‰å…¨çš„èº«ä»½éªŒè¯å’Œæˆæƒæœºåˆ¶æ¥ç”Ÿæˆå’ŒéªŒè¯ tokenã€‚</li>
<li>ä½¿ç”¨ HTTPS æ¥ä¼ è¾“ tokenï¼Œä»¥é˜²æ­¢ token è¢«ä¸­é—´äººæ”»å‡»æˆªè·æˆ–ç¯¡æ”¹ã€‚</li>
<li>å®šæœŸæ›´æ–° tokenï¼Œå¹¶å®æ–½æœ‰æ•ˆçš„ä»¤ç‰Œç®¡ç†ç­–ç•¥ï¼ŒåŒ…æ‹¬ä»¤ç‰Œçš„å¤±æ•ˆå’Œæ’¤é”€ã€‚</li>
<li>å®æ–½é€‚å½“çš„è®¿é—®æ§åˆ¶å’Œæƒé™ç®¡ç†ï¼Œä»¥ç¡®ä¿ä»¤ç‰Œåªèƒ½è®¿é—®åˆæ³•ä¸”å—æˆæƒçš„èµ„æºã€‚</li>
</ul>
<h3 id="JWT">JWT</h3>
<p>JSON Web Token(ç®€ç§°JWT)æ˜¯ä¸€ä¸ªtokenè®¤è¯çš„å…·ä½“å®ç°æ–¹å¼ï¼Œæ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆã€‚</p>
<p>JWTçš„åŸç†æ˜¯ï¼ŒæœåŠ¡å™¨è®¤è¯ä»¥åï¼Œç”Ÿæˆä¸€ä¸ªJSONå¯¹è±¡ï¼Œå‘å›ç»™ç”¨æˆ·ï¼Œå…·ä½“å¦‚ä¸‹:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;å§“å&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¼ ä¸‰&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;è§’è‰²&quot;</span><span class="punctuation">:</span><span class="string">&quot;ç®¡ç†å‘˜&quot;</span>ï¼Œ</span><br><span class="line">	<span class="attr">&quot;åˆ°æœŸæ—¶é—´&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2018å¹´7æœˆ1æ—¥0ç‚¹0åˆ†&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>ç”¨æˆ·ä¸æœåŠ¡ç«¯é€šä¿¡çš„æ—¶å€™ï¼Œéƒ½è¦å‘å›è¿™ä¸ªJSONå¯¹è±¡ã€‚æœåŠ¡å™¨å®Œå…¨åªé è¿™ä¸ªå¯¹è±¡è®¤å®šç”¨æˆ·èº«ä»½ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç¯¡æ”¹æ•°æ®ï¼ŒæœåŠ¡å™¨åœ¨ç”Ÿæˆè¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šåŠ ä¸Šç­¾åã€‚</p>
<p>JWTçš„ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¾æ¬¡å¦‚ä¸‹:</p>
<ul>
<li><strong>Header(å¤´éƒ¨)</strong></li>
<li><strong>Payload(è´Ÿè½½)</strong></li>
<li><strong>Signature(ç­¾å)</strong></li>
</ul>
<p>ä¸‰éƒ¨åˆ†æœ€ç»ˆç»„åˆä¸ºå®Œæ•´çš„å­—ç¬¦ä¸²ï¼Œä¸­é—´ä½¿ç”¨.åˆ†éš”ï¼Œå¦‚ä¸‹:</p>
<p><strong>Header.Payload.Signature</strong></p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240306165312836.png" alt="image-20240306165312836" style="zoom:67%;">
<p><strong>Header</strong> éƒ¨åˆ†æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œæè¿°JWTçš„å…ƒæ•°æ®</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;a1g&quot;</span><span class="punctuation">:</span> <span class="string">&quot;HS256&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typ&quot;</span><span class="punctuation">:</span> <span class="string">&quot;JwT&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>alg</strong>å±æ€§è¡¨ç¤ºç­¾åçš„ç®—æ³•(algorithm) ,é»˜è®¤æ˜¯HMAC SHA256(å†™æˆHS256)</p>
<p><strong>typ</strong>å±æ€§è¡¨ç¤ºè¿™ä¸ªä»¤ç‰Œ(token)çš„ç±»å‹(type), <strong>JWTä»¤ç‰Œç»Ÿä¸€å†™ä¸ºJWT</strong></p>
<p>æœ€åï¼Œå°†ä¸Šé¢çš„JSONå¯¹è±¡ä½¿ç”¨Base64URLç®—æ³•è½¬æˆå­—ç¬¦ä¸²</p>
<p><strong>Payload</strong>éƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ®ã€‚JWTè§„å®šäº†7ä¸ªå®˜æ–¹å­—æ®µï¼Œä¾›é€‰ç”¨ã€‚</p>
<ul>
<li>iss (issuer):ç­¾å‘äºº</li>
<li>exp(expiration time):è¿‡æœŸæ—¶é—´</li>
<li>sub(subject):ä¸»é¢˜</li>
<li>aud (audience):å—ä¼—</li>
<li>nbf(Not Before):ç”Ÿæ•ˆæ—¶é—´</li>
<li>iat (lssued At):ç­¾å‘æ—¶é—´</li>
<li>jti (JWT ID):ç¼–å·</li>
</ul>
<p>æ³¨æ„ï¼ŒJWTé»˜è®¤æ˜¯ä¸åŠ å¯†çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è¯»åˆ°ï¼Œæ‰€ä»¥ä¸è¦æŠŠç§˜å¯†ä¿¡æ¯æ”¾åœ¨è¿™ä¸ªéƒ¨åˆ†ã€‚</p>
<p>è¿™ä¸ªJSONå¯¹è±¡ä¹Ÿè¦ä½¿ç”¨Base64URLç®—æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚</p>
<p><strong>Signature</strong>éƒ¨åˆ†æ˜¯å¯¹å‰ä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹ã€‚</p>
<p>é¦–å…ˆï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªå¯†é’¥(secret)ã€‚è¿™ä¸ªå¯†é’¥åªæœ‰æœåŠ¡å™¨æ‰çŸ¥é“ï¼Œä¸èƒ½æ³„éœ²ç»™ç”¨æˆ·ã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨Headeré‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆé»˜è®¤æ˜¯HMAC SHA256)ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å…¬å¼äº§ç”Ÿç­¾åã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">	base64Ur1Encode (header) + &quot;.&quot;+</span><br><span class="line">	base64Ur1Encode(pay1oad),</span><br><span class="line">secret)</span><br></pre></td></tr></table></figure>
<p>ç®—å‡ºç­¾åä»¥åï¼ŒæŠŠHeaderã€Payloadã€Signatureä¸‰ä¸ªéƒ¨åˆ†æ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨<code>.</code>åˆ†éš”ï¼Œå°±å¯ä»¥è¿”å›ç»™ç”¨æˆ·ã€‚</p>
<p><strong>JWTçš„ç‰¹ç‚¹:</strong></p>
<ul>
<li>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„JWTï¼Œå¯ä»¥å‚¨å­˜åœ¨Cookieé‡Œé¢ï¼Œä¹Ÿå¯ä»¥å‚¨å­˜åœ¨localStorageã€‚</li>
<li>å®¢æˆ·ç«¯æ¯æ¬¡ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œéƒ½è¦å¸¦ä¸Šè¿™ä¸ªJWTï¼Œå¯ä»¥æŠŠå®ƒæ”¾åœ¨Cookieé‡Œé¢è‡ªåŠ¨å‘é€ï¼Œä½†æ˜¯è¿™æ ·ä¸èƒ½è·¨åŸŸã€‚</li>
<li>æ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨HTTPè¯·æ±‚çš„å¤´ä¿¡æ¯<code>Authorization</code>å­—æ®µé‡Œé¢ï¼Œå•ç‹¬å‘é€ã€‚</li>
</ul>
<h4 id="JWTçš„javaå®ç°"><strong>JWTçš„javaå®ç°</strong></h4>
<p><strong>åŠ å…¥ä¾èµ–</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">&lt;/ dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>ç”ŸæˆToken</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//7å¤©è¿‡æœŸ</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="variable">expire</span> <span class="operator">=</span> <span class="number">604800</span>;</span><br><span class="line"><span class="comment">//32ä½ç§˜é’¥</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">secret</span> <span class="operator">=</span><span class="string">&quot;abcdfghiabcdfghiabcdfghiabcdfghi&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆtoken</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">generateToken</span><span class="params">(string username)</span>&#123;</span><br><span class="line">	<span class="type">Date</span> <span class="variable">now</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">	<span class="type">Date</span> <span class="variable">expiration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(now.getTime () + <span class="number">1000</span>*expire);</span><br><span class="line">	<span class="keyword">return</span> Jwts.builder()</span><br><span class="line">			.setHeaderParam( <span class="string">&quot;type&quot;</span>,<span class="string">&quot;JWT&quot;</span>) <span class="comment">//è®¾ç½®å¤´éƒ¨ä¿¡æ¯ï¼Œå›ºå®šJWT</span></span><br><span class="line">        	.setSubject(username)		<span class="comment">//è®¾ç½®è½½è·ï¼Œå­˜å‚¨ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">			.setIssuedAt(now)	<span class="comment">//è®¾ç½®ç”Ÿæ•ˆæ—¶é—´</span></span><br><span class="line">			.setExpiration(expiration) <span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">        	<span class="comment">//æŒ‡å®šç­¾åç®—æ³•ï¼ŒåŠ å…¥å¯†é’¥</span></span><br><span class="line">			.signWith(SignatureAlgorithm.HS256,secret)</span><br><span class="line">        	.compact();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æToken</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è§£ætoken</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Claims <span class="title function_">getClaimsByToken</span><span class="params">( String token)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> Jwts.parser()</span><br><span class="line">				.setSigningKey(secret)</span><br><span class="line">        		.parseClaimsJws(token)</span><br><span class="line">        		.getBody();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°è£…åœ¨<code>JwtUtils</code>ç±»ä¸­</p>
<hr>
<h2 id="å‰åç«¯é›†æˆ">å‰åç«¯é›†æˆ</h2>
<p>åœ¨<code>vue-admin-template</code>ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„å‰ç«¯ UI äº¤äº’åˆ°æœåŠ¡ç«¯å¤„ç†æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>UI ç»„ä»¶äº¤äº’æ“ä½œï¼›</li>
<li>è°ƒç”¨ç»Ÿä¸€ç®¡ç†çš„ api service è¯·æ±‚å‡½æ•°ï¼›</li>
<li>ä½¿ç”¨å°è£…çš„ request.js å‘é€è¯·æ±‚ï¼›</li>
<li>è·å–æœåŠ¡ç«¯è¿”å›ï¼›</li>
<li>æ›´æ–° dataï¼›</li>
</ol>
<p>ä»ä¸Šé¢çš„æµç¨‹å¯ä»¥çœ‹å‡ºï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ç»´æŠ¤ï¼Œç»Ÿä¸€çš„è¯·æ±‚å¤„ç†éƒ½æ”¾åœ¨ <code>@/api</code> æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¸”ä¸€èˆ¬æŒ‰ç…§ model ç»´åº¦è¿›è¡Œæ‹†åˆ†æ–‡ä»¶ã€‚æˆ‘ä»¬è¦æ¥ç®¡å®ƒçš„è¯·æ±‚ï¼Œéœ€è¦ä¿®æ”¹<code>.env.development</code>ç¯å¢ƒå˜é‡ã€‚<code>VUE_APP_BASE_API='http://localhost:8090'</code></p>
<p>ä¿®æ”¹å®Œç¯å¢ƒå˜é‡éœ€è¦é‡å¯é¡¹ç›®æ‰èƒ½ç”Ÿæ•ˆã€‚</p>

                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                SpringBoot+Vueå­¦ä¹ è®°å½•
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                springboot-vue-xue-xi-ji-lu/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    ä½œè€…
                </div>
                <div class="content">Fuooovo</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    å‘å¸ƒäº
                </div>
                <div class="content">2024-03-07 17:28</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    è®¸å¯
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans">
                        <i class="fa-brands fa-creative-commons"></i>
                        <i class="fa-brands fa-creative-commons-by"></i>
                        <i class="fa-brands fa-creative-commons-nc"></i>
                        <i class="fa-brands fa-creative-commons-sa"></i>
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="å¤åˆ¶ç‰ˆæƒä¿¡æ¯" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/SpringBoot/">SpringBoot</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Vue/">Vue</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Mybatis-plus/">Mybatis-plus</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Swagger/">Swagger</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ° QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="åˆ†äº«åˆ°å¾®ä¿¡"
            data-tooltip-img-tip="å¾®ä¿¡æ‰«ä¸€æ‰«"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ°å¾®åš"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                
                    <div class="reward-author-container border-box flex-center">
    <div class="reward-btn keep-button border-box flex-center tooltip tooltip-img"
            data-tooltip-content="è¯·ä½œè€…å–æ°´"
            data-tooltip-img-url="/images/alipay.jpg"
            data-tooltip-img-trigger="click"
            data-tooltip-img-style="top: -8px;"
    >
        <i class="fa-solid fa-hand-holding-heart"></i>
    </div>
</div>

                

                
                    <div class="post-nav border-box">
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/imgui-xue-xi-ji-lu/"
                                   title="ImGuiå­¦ä¹ è®°å½•"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">ImGuiå­¦ä¹ è®°å½•</span>
                                        <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;è¯„è®º
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">è¯„è®ºæ’ä»¶åŠ è½½å¤±è´¥</span>
    <button class="reload keep-button">ç‚¹å‡»é‡æ–°åŠ è½½</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">æ­£åœ¨åŠ è½½è¯„è®ºæ’ä»¶</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="valine-container">
        <div id="vcomments"></div>
        <script 
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        ></script>
        <script 
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          window.KeepCommentPlugin.initValine = () => {
            const config = {
              el: '#vcomments',
              appId: 'zLV3tmcrBPucp2wRPMIisbvP-gzGzoHsz',
              appKey: 'KddVU1YEfIAXRWFRvdI8yBIB',
              meta: ['nick', 'mail', 'link'],
              avatar: 'wavatar',
              enableQQ: true,
              placeholder: '',
              lang: 'zh-CN'.toLowerCase()
            }

            if ('https://zlv3tmcr.lc-cn-n1-shared.com') {
              config.serverURLs = 'https://zlv3tmcr.lc-cn-n1-shared.com'
            }

            if (window?.Valine) {
              new Valine(config)
              window.KeepCommentPlugin.hideLoading()
            } else {
              setTimeout(() => {
                window.KeepCommentPlugin.initValine()
              }, 1000)
            }
          }

          if ('false' === 'true') {
            setTimeout(() => {
              window.KeepCommentPlugin.initValine()
            }, 1200)
          } else {
            window.addEventListener('DOMContentLoaded', window.KeepCommentPlugin.initValine)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringBoot"><span class="nav-number">1.</span> <span class="nav-text">SpringBoot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Maven"><span class="nav-number">1.1.</span> <span class="nav-text">Maven</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="nav-number">1.2.</span> <span class="nav-text">å¼€å‘ç¯å¢ƒçƒ­éƒ¨ç½²</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">1.3.</span> <span class="nav-text">æ§åˆ¶å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E7%8A%B6%E6%80%81%E7%A0%81"><span class="nav-number">1.4.</span> <span class="nav-text">HTTPçŠ¶æ€ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="nav-number">1.5.</span> <span class="nav-text">æ‹¦æˆªå™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9A%E4%B9%89"><span class="nav-number">1.5.1.</span> <span class="nav-text">æ‹¦æˆªå™¨å®šä¹‰:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E6%B3%A8%E5%86%8C"><span class="nav-number">1.5.2.</span> <span class="nav-text">æ‹¦æˆªå™¨æ³¨å†Œ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swagger"><span class="nav-number">2.</span> <span class="nav-text">Swagger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mybatis-plus"><span class="nav-number">3.</span> <span class="nav-text">Mybatis-plus</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ORM"><span class="nav-number">3.1.</span> <span class="nav-text">ORM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MyBatis-Plus"><span class="nav-number">3.2.</span> <span class="nav-text">MyBatis-Plus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98"><span class="nav-number">3.3.</span> <span class="nav-text">ä¾‹é¢˜</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue"><span class="nav-number">4.</span> <span class="nav-text">Vue</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MVVM%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.1.</span> <span class="nav-text">MVVMæ¨¡å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-number">4.2.</span> <span class="nav-text">Vueå¿«é€Ÿå…¥é—¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Axios"><span class="nav-number">4.3.</span> <span class="nav-text">Axios</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82"><span class="nav-number">4.3.1.</span> <span class="nav-text">å‘é€GETè¯·æ±‚</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E5%9B%9E%E8%B0%83%E9%97%AE%E9%A2%98"><span class="nav-number">4.3.2.</span> <span class="nav-text">å¼‚æ­¥å›è°ƒé—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="nav-number">4.3.3.</span> <span class="nav-text">ç®­å¤´å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8EVue%E6%95%B4%E5%90%88"><span class="nav-number">4.3.4.</span> <span class="nav-text">ä¸Vueæ•´åˆ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VueRouter"><span class="nav-number">4.4.</span> <span class="nav-text">VueRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.</span> <span class="nav-text">è·¨åŸŸé—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%87%BA%E7%8E%B0%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-number">4.5.2.</span> <span class="nav-text">è·¨åŸŸé—®é¢˜è§£å†³</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot%E4%B8%AD%E9%85%8D%E7%BD%AECORS"><span class="nav-number">4.6.</span> <span class="nav-text">Spring Bootä¸­é…ç½®CORS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%A4%8D%E5%88%BB%E7%BD%91%E6%98%93%E4%BA%91%E9%A1%B5%E9%9D%A2-%E5%8D%95%E9%A1%B5%E9%9D%A2"><span class="nav-number">4.7.</span> <span class="nav-text">ç®€å•å¤åˆ»ç½‘æ˜“äº‘é¡µé¢(å•é¡µé¢)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="nav-number">4.7.1.</span> <span class="nav-text">åŠ¨æ€è·¯ç”±</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86Vuex"><span class="nav-number">4.8.</span> <span class="nav-text">çŠ¶æ€ç®¡ç†Vuex</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mock-js"><span class="nav-number">5.</span> <span class="nav-text">Mock.js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-element-admin%E5%90%8E%E5%8F%B0%E9%9B%86%E6%88%90%E6%96%B9%E6%A1%88"><span class="nav-number">6.</span> <span class="nav-text">vue-element-adminåå°é›†æˆæ–¹æ¡ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JWT%E8%B7%A8%E5%9F%9F%E8%AE%A4%E8%AF%81"><span class="nav-number">7.</span> <span class="nav-text">JWTè·¨åŸŸè®¤è¯</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Session%E8%AE%A4%E8%AF%81"><span class="nav-number">7.1.</span> <span class="nav-text">Sessionè®¤è¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Token%E8%AE%A4%E8%AF%81"><span class="nav-number">7.2.</span> <span class="nav-text">Tokenè®¤è¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JWT"><span class="nav-number">7.3.</span> <span class="nav-text">JWT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JWT%E7%9A%84java%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.3.1.</span> <span class="nav-text">JWTçš„javaå®ç°</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E9%9B%86%E6%88%90"><span class="nav-number">8.</span> <span class="nav-text">å‰åç«¯é›†æˆ</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="border-box website-info-box default">
        
            <div class="copyright-info info-item default">
                &copy;&nbsp;<span>2020</span>&nbsp;-&nbsp;2024
                
                    &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">Fuooovo</a>
                
            </div>

            <div class="theme-info info-item default">
                ç”±&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;é©±åŠ¨&nbsp;&&nbsp;ä¸»é¢˜&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
            </div>

            

            
        

        <div class="count-item info-item default">
            

            

            
        </div>
    </div>
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="tools-list border-box">
        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-toggle-theme-mode flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringBoot"><span class="nav-number">1.</span> <span class="nav-text">SpringBoot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Maven"><span class="nav-number">1.1.</span> <span class="nav-text">Maven</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="nav-number">1.2.</span> <span class="nav-text">å¼€å‘ç¯å¢ƒçƒ­éƒ¨ç½²</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">1.3.</span> <span class="nav-text">æ§åˆ¶å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E7%8A%B6%E6%80%81%E7%A0%81"><span class="nav-number">1.4.</span> <span class="nav-text">HTTPçŠ¶æ€ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="nav-number">1.5.</span> <span class="nav-text">æ‹¦æˆªå™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9A%E4%B9%89"><span class="nav-number">1.5.1.</span> <span class="nav-text">æ‹¦æˆªå™¨å®šä¹‰:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E6%B3%A8%E5%86%8C"><span class="nav-number">1.5.2.</span> <span class="nav-text">æ‹¦æˆªå™¨æ³¨å†Œ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swagger"><span class="nav-number">2.</span> <span class="nav-text">Swagger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mybatis-plus"><span class="nav-number">3.</span> <span class="nav-text">Mybatis-plus</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ORM"><span class="nav-number">3.1.</span> <span class="nav-text">ORM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MyBatis-Plus"><span class="nav-number">3.2.</span> <span class="nav-text">MyBatis-Plus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98"><span class="nav-number">3.3.</span> <span class="nav-text">ä¾‹é¢˜</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue"><span class="nav-number">4.</span> <span class="nav-text">Vue</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MVVM%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.1.</span> <span class="nav-text">MVVMæ¨¡å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-number">4.2.</span> <span class="nav-text">Vueå¿«é€Ÿå…¥é—¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Axios"><span class="nav-number">4.3.</span> <span class="nav-text">Axios</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82"><span class="nav-number">4.3.1.</span> <span class="nav-text">å‘é€GETè¯·æ±‚</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E5%9B%9E%E8%B0%83%E9%97%AE%E9%A2%98"><span class="nav-number">4.3.2.</span> <span class="nav-text">å¼‚æ­¥å›è°ƒé—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="nav-number">4.3.3.</span> <span class="nav-text">ç®­å¤´å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8EVue%E6%95%B4%E5%90%88"><span class="nav-number">4.3.4.</span> <span class="nav-text">ä¸Vueæ•´åˆ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VueRouter"><span class="nav-number">4.4.</span> <span class="nav-text">VueRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.</span> <span class="nav-text">è·¨åŸŸé—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%87%BA%E7%8E%B0%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-number">4.5.2.</span> <span class="nav-text">è·¨åŸŸé—®é¢˜è§£å†³</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot%E4%B8%AD%E9%85%8D%E7%BD%AECORS"><span class="nav-number">4.6.</span> <span class="nav-text">Spring Bootä¸­é…ç½®CORS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%A4%8D%E5%88%BB%E7%BD%91%E6%98%93%E4%BA%91%E9%A1%B5%E9%9D%A2-%E5%8D%95%E9%A1%B5%E9%9D%A2"><span class="nav-number">4.7.</span> <span class="nav-text">ç®€å•å¤åˆ»ç½‘æ˜“äº‘é¡µé¢(å•é¡µé¢)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="nav-number">4.7.1.</span> <span class="nav-text">åŠ¨æ€è·¯ç”±</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86Vuex"><span class="nav-number">4.8.</span> <span class="nav-text">çŠ¶æ€ç®¡ç†Vuex</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mock-js"><span class="nav-number">5.</span> <span class="nav-text">Mock.js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-element-admin%E5%90%8E%E5%8F%B0%E9%9B%86%E6%88%90%E6%96%B9%E6%A1%88"><span class="nav-number">6.</span> <span class="nav-text">vue-element-adminåå°é›†æˆæ–¹æ¡ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JWT%E8%B7%A8%E5%9F%9F%E8%AE%A4%E8%AF%81"><span class="nav-number">7.</span> <span class="nav-text">JWTè·¨åŸŸè®¤è¯</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Session%E8%AE%A4%E8%AF%81"><span class="nav-number">7.1.</span> <span class="nav-text">Sessionè®¤è¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Token%E8%AE%A4%E8%AF%81"><span class="nav-number">7.2.</span> <span class="nav-text">Tokenè®¤è¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JWT"><span class="nav-number">7.3.</span> <span class="nav-text">JWT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JWT%E7%9A%84java%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.3.1.</span> <span class="nav-text">JWTçš„javaå®ç°</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E9%9B%86%E6%88%90"><span class="nav-number">8.</span> <span class="nav-text">å‰åç«¯é›†æˆ</span></a></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>



<!-- common -->
<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/toggle-theme.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/libs/anime.min.js"></script>

<!-- local-search -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/local-search.js"></script>


<!-- lazyload -->


<div class="">
    
        <!-- post-helper -->
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/post-helper.js"></script>

        <!-- toc -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/toc.js"></script>
        

        <!-- copyright-info -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/copyright-info.js"></script>
        

        <!-- share -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/share.js"></script>
        
    

    <!-- category-page -->
    

    <!-- links-page -->
    

    <!-- photos-page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->


<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type = "text/javascript" src="/js/click.js"></script>

    
        
    

<script type = "text/javascript" src="/js/snow.js"></script>
</body>
</html>
