<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Fuooovo">
    
    <title>
        
            SpringBoot+Vue学习记录 |
        
        Fuooovo&#39;s Note
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/sun.svg">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/font/css/brands.min.css">
    
        
            
                
<link rel="stylesheet" href="/css/custom.css">

            
        
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"fuooovo.github.io","root":"/","language":"zh-CN","path":"search.xml"}
    KEEP.theme_config = {"base_info":{"primary_color":"rgb(0,139,139)","title":"Fuooovo's Note","author":"Fuooovo","avatar":"/images/cat-avatar.svg","logo":"/images/black-cat-strenching.svg","favicon":"/images/sun.svg"},"menu":{"Archives":"/archives","Tags":"/tags","Categories":"/categories","Links":"/links","About":"/about","Photos":"/photos"},"first_screen":{"enable":true,"background_img":"/images/bg.svg","background_img_dark":"/images/yun.jpg","description":"黑黑土土","hitokoto":false},"social_contact":{"enable":true,"links":{"github":"https://github.com/Fuooovo","email":"1664283711@qq.com"}},"scroll":{"progress_bar":false,"percent":true,"hide_header":true},"home":{"category":false,"tag":true,"announcement":"black-earth"},"post":{"author_badge":{"enable":true,"level_badge":false,"custom_badge":["炼气期","筑基期","结丹期","元婴期","化神期"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":true,"share":true,"reward":{"enable":true,"img_link":"/images/alipay.jpg","text":"请作者喝水"}},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":false,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"valine","valine":{"appid":"zLV3tmcrBPucp2wRPMIisbvP-gzGzoHsz","appkey":"KddVU1YEfIAXRWFRvdI8yBIB","server_urls":"https://zlv3tmcr.lc-cn-n1-shared.com","placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.21"},"waline":{"server_url":null,"reaction":false,"version":2},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":false},"lazyload":{"enable":false},"cdn":{"enable":true,"provider":"jsdelivr"},"pjax":{"enable":false},"footer":{"since":2020,"word_count":false,"icp":{"enable":false,"record_code":null,"url":"https://beian.miit.gov.cn"},"site_deploy":{"enable":false,"provider":"github","url":null},"shields_style":{"enable":false,"custom":[{"link_url":null,"img_url":null}]}},"inject":{"enable":true,"css":["/css/custom.css"],"js":[null]},"root":"","links":[{"avatar":"https://drun1baby.top/favicon.svg","name":"Drunkbaby","description":"小酌一杯🍺","link":"https://drun1baby.top"},{"avatar":"https://cdn.pixabay.com/photo/2016/03/31/19/23/cat-1294968_1280.png","name":"Fuooovo","description":"黑黑土土","link":"https://fuooovo.github.io"},{"avatar":"https://gcore.jsdelivr.net/gh/CNhuazhu/Image/avatar.jpg","name":"花猪","description":"佛系青年","link":"https://cnhuazhu.top/"}],"version":"4.0.5"}
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"}
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"}
    KEEP.language_copy_copyright = {"copy":"复制版权信息","copied":"已复制","title":"原文标题","author":"原文作者","link":"原文链接"}
  </script>
<meta name="generator" content="Hexo 7.0.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container border-box">

    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left border-box">
            
                <a class="logo-image border-box" href="/">
                    <img src="/images/black-cat-strenching.svg">
                </a>
            
            <a class="site-name border-box" href="/">
               Fuooovo&#39;s Note
            </a>
        </div>

        <div class="right border-box">
            <div class="pc">
                <ul class="menu-list">
                    <li class="menu-item">
                        <a class=""
                           href="/"
                        >首页</a>
                    </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >归档</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >标签</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >分类</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >友链</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >关于</a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/photos"
                            >相册</a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            <li class="drawer-menu-item flex-center">
                <a class=""
                   href="/"
                >首页</a>
            </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives"
                    >归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags"
                    >标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories"
                    >分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links"
                    >友链</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about"
                    >关于</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/photos"
                    >相册</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        SpringBoot+Vue学习记录
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/cat-avatar.svg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">Fuooovo</span>
                                
                                    <span class="author-badge">筑基期</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-check"></i>&nbsp;
                <span class="pc">2024-03-07 17:28:40</span>
                <span class="mobile">2024-03-07 17:28</span>
            </span>

            <span class="meta-info-item post-update-date">
                <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                <span class="pc" data-updated="Thu Mar 07 2024 17:47:39 GMT+0800">2024-03-07 17:47:39</span>
            </span>
        

        

        
            <span class="post-tag meta-info-item border-box">
                <i class="icon fas fa-tags"></i>&nbsp;
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/SpringBoot/">SpringBoot</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Vue/">Vue</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Mybatis-plus/">Mybatis-plus</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/Swagger/">Swagger</a></li>
                        
                    
                </ul>
            </span>
        

        
        
            <span class="meta-info-item post-wordcount">
                <i class="icon fas fa-file-word"></i>&nbsp;<span>10.6k 字</span>
            </span>
        
        
            <span class="meta-info-item post-min2read">
                <i class="icon fas fa-clock"></i>&nbsp;<span>44 分钟</span>
            </span>
        
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body">
                    

                    <h2 id="SpringBoot">SpringBoot</h2>
<p>SpringBoot特点：</p>
<ul>
<li>遵循“约定优于配置”的原则，只需要很少的配置或使用默认的配置。能够使用内嵌的Tomcat、Jetty服务器，不需要部署war文件。</li>
<li>提供定制化的启动器Starters，简化Maven配置，开箱即用。纯Java配置，没有代码生成，也不需要XML配置。</li>
<li>提供了生产级的服务监控方案，如安全监控、应用监控、健康检测等。</li>
</ul>
<p>Spring Boot将传统Web开发的<strong>mvc</strong>、<strong>json</strong>、<strong>tomcat</strong>等框架整合，提供了<strong>spring-boot-starter-web</strong>组件，简化了Web应用配置。</p>
<p>创建SpringBoot项目勾选<strong>Spring Web</strong>选项后，会自动将<strong>spring-boot-starter-web</strong>组件加入到项目中。</p>
<p><strong>spring-boot-starter-web</strong>启动器主要包括<strong>web</strong>、<strong>webmvc</strong>、<strong>json</strong>、<strong>tomcat</strong>等基础依赖组件，作用是提供Web开发场景所需的所有底层依赖。</p>
<p><strong>webmvc</strong>为Web开发的基础框架，<strong>json</strong>为JSON数据解析组件，<strong>tomcat</strong>为自带的容器依赖</p>
<h3 id="Maven">Maven</h3>
<p>Maven是一个项目管理工具，可以对java项目进行自动化的构建和依赖管理</p>
<p>maven的作用可以分为三类：</p>
<ul>
<li>项目构建：提供标准的，跨平台的自动化构建项目的方式</li>
<li>依赖管理：方便快捷的管理项目依赖的资源(jar包)，避免资源间的版本冲突等问题</li>
<li>统一开发结构：提供标准的、统一的项目开发结构</li>
</ul>
<h3 id="开发环境热部署">开发环境热部署</h3>
<p>在实际的项目开发调试过程中会频繁地修改后台类文件，导致需要重新编译、重新启动，整个过程非常麻烦，影响开发效率。在实际的项目开发调试过程中会频繁地修改后台类文件，导致需要重新编译、重新启动，整个过程非常麻烦，影响开发效率.</p>
<p>Spring Boot提供了<strong>spring-boot-devtools</strong>组件，使得无须手动重启SpringBoot应用即可重新编译、启动项目，大大缩短编译启动的时间。</p>
<p>DevTools会监听类路径下的文件变动，触发重启类加载器重新加载该类，从而实现类文件和属性文件的热部署。</p>
<p>并不是所有的更改都需要重启应用（如静态资源、视图模板），可以通过设置<code>spring.devtools.restart.exclude</code>属性来指定一些文件或目录的修改不用重启应用。</p>
<p>pom.xml中添加依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>application.properties中添加:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.devtools.restart.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="attr">spring.devtools.restart.additional-paths</span>=<span class="string">src/main/java</span></span><br><span class="line"><span class="attr">spring.devtools.restart.exclude</span>=<span class="string">static/**</span></span><br></pre></td></tr></table></figure>
<p>修改idea设置，勾选自动构建项目</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240302215633921.png" alt="image-20240302215633921"></p>
<p>打开注册表勾选<strong>compiler.automake.allow.when.app.running</strong></p>
<p>idea2021版本注册表中没有该选项，在高级设置中修改。</p>
<h3 id="控制器">控制器</h3>
<p>Spring Boot提供了**@Controller<strong>和</strong>@RestController**两种注解来标识此类负责接收和处理HTTP请求。<br>
如果请求的是页面和数据，使用@Controller注解即可;如果只是请求数据,则可以使用@RestController注解。</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303194315279.png" alt="image-20240303194315279"></p>
<p><strong>Controller的用法</strong><br>
下面示例中返回了hello页面和name的数据，在前端页面中可以通过${name}参获取后台返回的数据并显示。<br>
Controller通常与Thymeleaf模板引擎结合使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">	<span class="meta">@RequestMapping( &quot;/hello&quot; )</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">index</span><span class="params">(ModelMap map)</span>&#123;</span><br><span class="line">		map.addAttribute( attributeName: <span class="string">&quot;name &quot;</span> ,attributeValue: 				<span class="string">&quot;zhangsan&quot;</span>);	</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实例返回了hello.html页面，这样前后端不分离。为了分离前后端，一般用@RestController，只请求数据。</p>
<p><strong>@RestController的用法</strong><br>
默认情况下，<strong>@RestController注解会将返回的对象数据转换为JSON格式。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">	<span class="meta">@RequestMapping</span> (<span class="string">&quot;/user&quot;</span>)</span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">		user.setUsername ( <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        user.setPassword( <span class="string">&quot;123&quot;</span> );</span><br><span class="line">		<span class="keyword">return</span> user;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>路由映射，接收前端请求</strong><br>
<strong>@RequestMapping</strong>注解主要负责URL的路由映射。它可以添加在Controller类或者具体的方法上。</p>
<p>如果添加在Controller类上，则这个Controller中的所有路由映射都将会加上此映射规则，如果添加在方法上，则只对当前方法生效。</p>
<p>@RequestMapping注解包含很多属性参数来定义HTTP的请求映射规则。</p>
<p>常用的属性参数如下:</p>
<p>**value:**请求URL的路径，支持URL模板、正则表达式</p>
<p><strong>method:</strong> HTTP请求方法</p>
<p>**consumes:**请求的媒体类型(Content-Type)，如application/json</p>
<p>**produces:**响应的媒体类型</p>
<p>**params, headers:**请求的参数及请求头的值</p>
<p>@RequestMapping的value属性用于匹配URL映射,value支持简单表达式RequestMapping(“/user”)</p>
<p>@RequestMapping支持使用通配符匹配URL，用于统一映射某些URL规则类似的请求:@RequestMapping(&quot;/getJson/<em>.json&quot;)，当在浏览器中请求/getJson/a.json或者/getJson/b.json时都会匹配到后台的Json方法</em></p>
<p>@RequestMapping的通配符匹配非常简单实用，支持“<em>” “?” &quot;**“等通配符符号”</em>“匹配任意字符，符号“**”匹配任意路径，符号”?&quot;匹配单个字符</p>
<p>有通配符的优先级低于没有通配符的，比如/user/add.json比/user/*.json优先匹配有“**”通配符的优先级低于有&quot;*&quot;通配符的</p>
<p><strong>Method匹配</strong><br>
HTTP请求Method有<strong>GET</strong>、<strong>POST</strong>、<strong>PUT</strong>、<strong>DELETE</strong>等方式。</p>
<p>@RequestMapping注解提供了method参数指定请求的Method类型，包括<br>
RequestMethod.GET、RequestMethod.POST、RequestMethod.DELETRequestMethod.PUT等值，分别对应HTTP请求的Method</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/getData&quot; , method = RequestMethod.GET)</span></span><br><span class="line"><span class="keyword">public</span> string <span class="title function_">getData</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Method匹配也可以使用@GetMapping、@PostMapping等注解代替。</p>
<p>Get用于从服务器获取资源。</p>
<p>Post用于向服务器提交数据，通常用于创建、删除和更新资源。</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303214745034.png" alt="image-20240303214745034"></p>
<h3 id="HTTP状态码">HTTP状态码</h3>
<p>HTTP状态码就是服务向用户返回的状态码和提示信息，客户端的每一次请求，服务都必须给出回应，回应包括HTTP状态码和数据两部分。可以用来检查报错信息，了解是哪里出了错误。</p>
<p>HTTP定义了40个标准状态码，可用于传达客户端请求的结果。状态码分为以下5个类别:<br>
1xx:信息，通信传输协议级信息</p>
<p>2xx:成功，表示客户端的请求已成功接受</p>
<p>3xx:重定向，表示客户端必须执行一些其他操作才能完成其请求</p>
<p>4xx:客户端错误，此类错误状态码指向客户端</p>
<p>5xx:服务器错误，服务器负责这写错误状态码</p>
<p><strong>参数传递</strong><br>
<strong>@RequestParam</strong>将请求参数绑定到控制器的方法参数上，接收的参数来自HTTP请求体或请求url的QueryString，当请求的参数名称与Controller的业务方法参数名称一致时,@RequestParam可以省略</p>
<p>**@PathVaraible:**用来处理动态的URL，URL的值可以作为控制器中处理方法的参数</p>
<p><strong>@RequestBody</strong>接收的参数是来自requestBody中，即请求体。一般用于处理<br>
非Content-Type: application/x-www-form-urlencoded编码格式的数据,比如: applicationljson、application/xml等类型的数据</p>
<p><strong>静态资源访问</strong><br>
使用IDEA创建Spring Boot项目，会默认创建出classpath:/static目录，静态资源一般放在这个目录下即可。<br>
如果默认的静态资源过滤策略不能满足开发需求，也可以自定义静态资源过滤策略。<br>
在application.properties中直接定义过滤规则和静态资源位置:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.mvc.static-path-pattern</span>=<span class="string">/static/**</span></span><br><span class="line"><span class="attr">spring.web.resources.static-locations</span>=<span class="string">classpath:/static/</span></span><br></pre></td></tr></table></figure>
<p>过滤规则为/static/**，静态资源位置为classpath:/static/</p>
<p><strong>文件上传原理</strong><br>
表单的enctype属性规定在发送到服务器之前应该如何对表单数据进行编码。<br>
当表单的enctype=“application/x-www-form-urlencoded”(默认）时,form表单中的数据格式为: key=value&amp;key=value<br>
当表单的enctype=&quot;multipart/form-data&quot;时，其传输数据形式如下</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303205957153.png" alt="image-20240303205957153"></p>
<p><strong>SpirngBoot实现文件上传功能</strong><br>
Spring Boot工程嵌入的tomcat限制了请求的文件大小，每个文件的配置最大为1Mb，单次请求的文件的总数不能大于10Mb。<br>
要更改这个默认值需要在配置文件(如application.properties）中加入两个配置</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.servlet.mu</span> <span class="string">1tipart.max-fi1e-size=10MB</span></span><br><span class="line"><span class="attr">spring.serv1et.mu1tipart.max-request-size</span>=<span class="string">10MB</span></span><br></pre></td></tr></table></figure>
<p>当表单的enctype=&quot;multipart/form-data&quot;时,可以使用MultipartFile获取上传的文件数据，再通过transferTo方法将其写入到磁盘中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line">pub1ic <span class="keyword">class</span> <span class="title class_">Filecontro11er</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">string</span> <span class="variable">UPLOADED_FOLDER</span> <span class="operator">=</span> 		System.getProperty(<span class="string">&quot;user.dir&quot;</span>)+<span class="string">&quot;/up1oad/&quot;</span></span><br><span class="line">        </span><br><span class="line">	<span class="meta">@PostMapping(&quot;/up&quot;)</span></span><br><span class="line">	<span class="keyword">public</span> string <span class="title function_">up1oad</span><span class="params">(string nickname,Mu1tipartFile f)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		system. out.print1n(<span class="string">&quot;文件大小: &quot;</span>+f.getsize());</span><br><span class="line">		system. out.println(f.getcontentType();</span><br><span class="line">		system. out.print1n(f.getorigina1Fi1ename());</span><br><span class="line">		system.out.print1n(system.getProperty(<span class="string">&quot;user.dir&quot;</span>));saveFile(f);</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;上传成功&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveFi1e</span><span class="params">(Mu1tipartFile f)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">		<span class="type">Fi1e</span> <span class="variable">upDir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(UPLOADED_FOLDER);</span><br><span class="line">		<span class="keyword">if</span>(!upDir.exists())&#123;</span><br><span class="line">		upDir.mkdir();</span><br><span class="line">	&#125;</span><br><span class="line">	File file=<span class="keyword">new</span> <span class="title class_">File</span>(UPLOADED_FOLDER+f.getorigina1Filename());</span><br><span class="line">    f.transferTo(fi1e);</span><br><span class="line">  &#125;</span><br><span class="line">                            </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="拦截器"><strong>拦截器</strong></h3>
<p>拦截器在Web系统中非常常见，对于某些全局统一的操作，我们可以把它提<br>
取到拦截器中实现。总结起来，拦截器大致有以下几种使用场景:</p>
<ul>
<li>
<p>权限检查:如登录检测，进入处理程序检测是否登录，如果没有，则直接返<br>
回登录页面。</p>
</li>
<li>
<p>性能监控:有时系统在某段时间莫名其妙很慢，可以通过拦截器在进入处理<br>
程序之前记录开始时间，在处理完后记录结束时间，从而得到该请求的处理时间</p>
</li>
<li>
<p>通用行为:读取cookie得到用户信息并将用户对象放入请求，从而方便后续<br>
程使用，还有提取Locale、Theme信息等，只要是多个处理程序都需要的,<br>
即可使用拦截器实现。</p>
</li>
</ul>
<p>Spring Boot定义了<strong>HandlerInterceptor</strong>接口来实现自定义拦截器的功能</p>
<p><strong>HandlerInterceptor</strong>接口定义了<strong>preHandle</strong>、<strong>postHandle</strong>、<strong>afterCompletion</strong>三种方法，通过重写这三种方法实现请求前、请求后等操作</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240303212720854.png" alt="image-20240303212720854"></p>
<h4 id="拦截器定义"><strong>拦截器定义:</strong></h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;LoginInterceptro&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="拦截器注册">拦截器注册</h4>
<p><strong>addPathPatterns</strong>方法定义拦截的地址。</p>
<p><strong>excludePathPatterns</strong>定义排除某些地址不被拦截。</p>
<p>添加的一个拦截器没有<strong>addPathPattern</strong>任何一个url则默认拦截所有请求。</p>
<p>如果没有<strong>excludePathPatterns</strong>任何一个请求，则默认不放过任何一个请求。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">webconfigurer</span> imp1ements webMvcconfigurer i</span><br><span class="line">	<span class="meta">@override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> i</span><br><span class="line">		registry.addInterceptor( <span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>())										.addPathPatterns(<span class="string">&quot;/user/**&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>多个拦截器执行有顺序，如果还配置了全局的Cors，需要将Cors的执行顺序调到最高。</p>
<h2 id="Swagger">Swagger</h2>
<p><strong>Swagger</strong>是一个规范和完整的框架，用于生成、描述、调用和可视化<strong>RESTful</strong>风格的Web服务，是非常流行的API表达工具。<br>
<strong>Swagger</strong>能够<strong>自动生成完善的RESTful API文档</strong>，同时并根据后台代码的修改<strong>同步更新</strong>，同时提供完整的<strong>测试页面</strong>来调试APl。</p>
<p><a class="link" target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/617187396">什么是RESTful风格API<i class="fas fa-external-link-alt"></i></a></p>
<p>在Spring Boot项目中集成Swagger同样非常简单，只需要在项目中引入springfox-swagger2和springfox-swagger-ui依赖即可。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>配置swagger(SwaggerConfig),可以复用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 配置Swagger相关的bean</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                <span class="comment">//com包下所有API都交给Swagger2管理</span></span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 此处主要是API文档页面显示信息</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;演示项目API&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;演示项目&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">// 解决静态资源无法访问</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/static/&quot;</span>);</span><br><span class="line">        <span class="comment">// 解决swagger无法访问</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/swagger-ui.html&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">        <span class="comment">// 解决swagger的js文件无法访问</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Spring Boot 2.6.X后与Swagger有版本冲突问题，需要在application.properties中加入以下配置:</p>
<p><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher</code></p>
<p>swagger访问地址<code>localhost:8090/swagger-ui.html</code></p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240307165104205.png" alt="image-20240307165104205"></p>
<h2 id="Mybatis-plus">Mybatis-plus</h2>
<h3 id="ORM">ORM</h3>
<p>ORM (Object Relational Mapping，对象关系映射）是为了解决面向对象与关系型数据库存在的互不匹配现象的一种技术。<br>
ORM通过使用描述对象和数据库之间映射的元数据将程序中的对象自动持久化到关系数据库中。<br>
ORM框架的本质是简化编程中操作数据库的编码.</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240304090436103.png" alt="image-20240304090436103"></p>
<h3 id="MyBatis-Plus">MyBatis-Plus</h3>
<p>MyBatis是一款优秀的<strong>数据持久层ORM框架</strong>，被广泛地应用于应用系统。</p>
<p>MyBatis能够非常灵活地实现<strong>动态SQL</strong>，可以使用XML或注解来配置和映射原<br>
生信息，能够轻松地将Java的POJO (Plain Ordinary Java Object，普通的<br>
的Java对象)与数据库中的表和字段进行映射关联。</p>
<p>MyBatis-Plus是一个MyBatis的增强工具，在MyBatis的基础上做了增强，简化了开发。</p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240304092904997.png" alt="image-20240304092904997" style="zoom:80%;">
<p>数据库相关的操作放在mapper包中，在启动类中加上MapperScan注解</p>
<p>UserMapper(mapper包中)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAllUser</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Insert(&quot;insert into user values (#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;,#&#123;birthday&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">insert</span><span class="params">(User user)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法不需要实现，调用方法时会自动执行注解中的sql语句，并将select到的结果存到list中返回。</p>
<p>insert语句返回值为int，插入了多少条数据就返回多少。插入数据需要的参数为user的属性，格式为#{属性}。记得设置主键id自增，否则多次插入可能会报5x错误。</p>
<p>mybatius-puls做了进一步简化，controller中直接调用BaseMapper里的方法即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>BaseMapper中的User参数，类名需要与表名一致，否则需要在类里添加@TableName(表名)注解</p>
<p>UserController(controller包中)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">query</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;User&gt; users = userMapper.findAllUser();</span><br><span class="line">        System.out.println(users);</span><br><span class="line">        <span class="keyword">return</span> users;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在UserController中，使用注解Autowired注入mapper</p>
<p>一般来说需要将数据转化为json格式交给前端，将函数返回值改为List，返回的对象将会自动转换为json</p>
<p><strong>多表查询</strong></p>
<p>实现复杂关系映射，可以使用@Results注解，@Result注解，@One注解，@Many注解组合完成复杂关系的配置。</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240304190923815.png" alt="image-20240304190923815"></p>
<h3 id="例题">例题</h3>
<p>现在有一个订单表和用户表，要实现两个多表查询：</p>
<p>1.通过用户id查找用户订单，并返回用户信息和对应的订单信息</p>
<p>2.通过uid查找订单信息，并返回订单信息和对应的用户信息</p>
<p>UserMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">    <span class="comment">//通过id查找用户信息</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_user where id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    User <span class="title function_">selectById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//通过id查找用户订单，并返回用户信息和对应的订单信息</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_user&quot;)</span></span><br><span class="line">    <span class="meta">@Results(</span></span><br><span class="line"><span class="meta">            &#123;       //column=字段名，property=属性名</span></span><br><span class="line"><span class="meta">                    //@Result注解把从数据库中查询到的数据，赋值给类的属性</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;,property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;username&quot;,property = &quot;username&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;password&quot;,property = &quot;password&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;birthday&quot;,property = &quot;birthday&quot;),</span></span><br><span class="line"><span class="meta">                    //在userMapper中调用orderMapper的selectByUid方法，把id传递给该方法，得到的订单集合赋值给User类里的orders属性</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;,property = &quot;orders&quot;,javaType = List.class,</span></span><br><span class="line"><span class="meta">                        many=@Many(select=&quot;com.example.springbootstudy.mapper.OrderMapper.selectByUid&quot;)</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    List&lt;User&gt; <span class="title function_">selectAllUsersAndOrders</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在使用@Result注解映射order属性时，一个用户(id)可能映射多个订单(orders集合)，是一对多的映射关系，用@many注解。将id传递给selectByUid方法，返回结果赋值给orders。</p>
<p>在UserController中调用selectAllUsersAndOrders，返回给前端用户集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/findAll&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAll</span><span class="params">()</span>&#123;</span><br><span class="line">       List&lt;User&gt; users = userMapper.selectAllUsersAndOrders();</span><br><span class="line">       System.out.println(users);</span><br><span class="line">       <span class="keyword">return</span> users;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>OrderMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过uid查找订单信息</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_order where uid = #&#123;uid&#125;&quot;)</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">selectByUid</span><span class="params">(<span class="type">int</span> uid)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过uid查找订单信息，并返回订单信息和对应的用户信息</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from t_order&quot;)</span></span><br><span class="line">    <span class="meta">@Results(</span></span><br><span class="line"><span class="meta">            &#123;</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;id&quot;,property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;order_time&quot;,property = &quot;order_time&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;total&quot;,property = &quot;total&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;uid&quot;,property = &quot;uid&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column=&quot;uid&quot;,property = &quot;user&quot;,javaType = User.class,</span></span><br><span class="line"><span class="meta">                        one=@One(select=&quot;com.example.springbootstudy.mapper.UserMapper.selectById&quot;)</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">selectAllOrdersAndUsers</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在使用@Result注解映射user的时候，一个订单编号(uid)对应一个用户(user)，是一对一的映射关系，用@one注解，同样的将uid传递给selectById，结果赋给user。</p>
<p>在OrderMapper中调用selectAllOrdersAndUsers，返回给前端订单集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/order/findAll&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Order&gt; <span class="title function_">findAll</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Order&gt; orders = orderMapper.selectAllOrdersAndUsers();</span><br><span class="line">        System.out.println(orders);</span><br><span class="line">        <span class="keyword">return</span> orders;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>总的来说就是用户类里有一个订单属性(List&lt;Order&gt; orders)，通过调用方法和@Result、@many等注解实现多表查询。第二个需求同理。</p>
<p><strong>mybatis-plus的条件查询和分类查询</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//mybatis-plus的条件查询</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user/findByCond&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findByCond</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper=<span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> userMapper.selectList(queryWrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//mybatis-plus分页查询</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user/findByPage&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> IPage <span class="title function_">findByPage</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//设置起始值以及每页条数</span></span><br><span class="line">        Page&lt;User&gt; page = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//iPage封装了查询的结果，以及当前是第几页等额外信息</span></span><br><span class="line">        <span class="type">IPage</span> <span class="variable">iPage</span> <span class="operator">=</span> userMapper.selectPage(page,<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">return</span> iPage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>分页查询还需要配置一个拦截器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//配置mybatis-plus分页查询</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisPlusConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">paginationInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="type">PaginationInnerInterceptor</span> <span class="variable">paginationInnerInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL);</span><br><span class="line">        interceptor.addInnerInterceptor(paginationInnerInterceptor);</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Vue">Vue</h2>
<h3 id="MVVM模式">MVVM模式</h3>
<p>MVVM是Model-View-ViewModel的缩写，它是一种基于前端开发的架构模式，其核心是提供对View和ViewModel的双向数据绑定。</p>
<p>Vue提供了MVVM风格的双向数据绑定，核心是MVVM中的VM，也就是ViewModel，ViewModel负责连接View和Model，保证视图和数据的一致性。</p>
<p>view变了，model跟着变；model变了，view也会跟着变。</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240304205356609.png" alt="image-20240304205356609"></p>
<h3 id="Vue快速入门">Vue快速入门</h3>
<p><strong>安装vue-cli</strong></p>
<p><code>npm install -g@vue/cli</code></p>
<p><strong>创建项目</strong></p>
<p><code>vue create my-project</code></p>
<p><strong>启动项目</strong></p>
<p><code>npm run serve</code></p>
<p>导入vue.js的script脚本文件</p>
<script src="https://unpkg.com/vue@next"></script>
<p>在页面中声明一个将要被vue所控制的DOM区域，既MVVM中的View</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>创建vm实例对象(vue 实例对象)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const hello = &#123;</span><br><span class="line">//指定数据源，既MVVM中的Mode1</span><br><span class="line">	data: function() &#123;</span><br><span class="line">		return &#123;</span><br><span class="line">			message: &#x27;He11o vue! &#x27;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">const app = vue.createApp(he11o)</span><br><span class="line">app.mount(&#x27;#app&#x27;)//指定当前vue实例要控制页面的哪个区域</span><br></pre></td></tr></table></figure>
<p><strong>组件化开发</strong></p>
<p>组件(Component)是Vue.js最强大的功能之一。组件可以扩展HTML元素封装可重用的代码。</p>
<p>Vue的组件系统允许我们使用小型、独立和通常可复用的组件构建大型应用。</p>
<p><strong>组件的构成</strong><br>
Vue中规定组件的后缀名是.vue</p>
<p>每个.vue 组件都由3部分构成，分别是</p>
<ul>
<li>template，组件的模板结构，可以包含HTML标签及其他的组件</li>
<li>script，组件的JavaScript代码</li>
<li>style，组件的样式</li>
</ul>
<p>vue项目中没有node_modules的话，npm run serve跑不动，需要先依赖package.json文件npm install下载好node_modules。package.json相当于maven的pom.xml</p>
<h3 id="Axios">Axios</h3>
<p>在实际项目开发中，前端页面所需要的数据往往需要从服务器端获取，这必然涉及与服务器的通信。</p>
<p>Axios是一个基于promise网络请求库，作用于node.js和浏览器中。</p>
<p>Axios 在浏览器端使用XMLHttpRequests发送网络请求，并能自动完成JSON数据的转换。</p>
<p>安装:<code>npm install axios</code><br>
地址: <a class="link" target="_blank" rel="noopener" href="https://www.axios-http.cn/">https://www.axios-http.cn/<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="发送GET请求">发送GET请求</h4>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//向给定ID的用户发起请求</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    	<span class="comment">//处理成功情况</span></span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">	&#125;)</span><br><span class="line">	.<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    	<span class="comment">//处理错误情况</span></span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">	&#125;)</span><br><span class="line">	.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    	<span class="comment">//总是会执行</span></span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>
<p>上述请求也可按以下方式完成</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">	<span class="attr">params</span>: &#123;</span><br><span class="line">		<span class="attr">ID</span>:<span class="number">12345</span>&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line">	.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>( response);&#125;)</span><br><span class="line">	.<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>( error);&#125;)</span><br><span class="line">	.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">/*总是会执行*/</span>&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="异步回调问题">异步回调问题</h4>
<p>支持async/await用法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">	&#125;<span class="keyword">catch</span> (error) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="箭头函数">箭头函数</h4>
<p>axios请求数据之后，将数据赋给data中的tableData，table组件会根据tableData双向绑定自动渲染，但是赋值的时候控制台报错&quot;Uncaught (in promise) TypeError: Cannot set properties of undefined (setting ‘tableData�) at eval&quot;。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    //methods</span><br><span class="line">    created()&#123;</span><br><span class="line">        //组件被挂载完毕之后，axios发送网络请求</span><br><span class="line">        axios.get(&quot;http://localhost:8090/user/findAll&quot;).then(function(response)&#123;</span><br><span class="line">          //console.log(response)//异步回调函数</span><br><span class="line">          this.tableData = response.data;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        tableData: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>这是因为使用了function函数，在函数里面，this指向的是函数本身。把函数function改成箭头函数即可。箭头函数绑定父级作用域。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;http://localhost:8090/user/findAll&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">tableData</span> = response.<span class="property">data</span>;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="与Vue整合">与Vue整合</h4>
<p>在实际项目开发中，几乎每个组件中都会用到axios发起数据请求。此时会遇到如下两个问题:</p>
<ol>
<li>每个组件中都需要导入axios</li>
<li>每次发请求都需要填写完整的请求路径</li>
</ol>
<p>可以通过全局配置的方式解决上述问题:</p>
<p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="comment">//配置请求根路径</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://localhost:8090&#x27;</span></span><br><span class="line"><span class="comment">//将axios作为全局的自定义属性，每个组件可以在内部直接访问(Vue2)</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$axios</span> = axios </span><br><span class="line"><span class="comment">//Vue3</span></span><br><span class="line">app.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$http</span>=axios  <span class="comment">//$后的名字自定义</span></span><br></pre></td></tr></table></figure>
<p>设置完成之后，原来的<code>axios.get()</code>需要修改为<code>this.$axios.get()</code></p>
<h3 id="VueRouter">VueRouter</h3>
<p>Vue路由vue-router是官方的路由插件，能够轻松的管理SPA项目中组件的切换。</p>
<p>Vue的单页面应用是基于路由和组件的，路由用于设定访问路径，并将路径和组件映射起来</p>
<p>vue-router目前有3.x的版本和4.x的版本，vue-router 3.x 只能结合vue2进行使用，vue-router 4.x只能结合vue3进行使用</p>
<p>安装: <code>npm install vue-router@3</code></p>
<h3 id="跨域问题">跨域问题</h3>
<h4 id="为什么会出现跨域问题"><strong>为什么会出现跨域问题</strong></h4>
<p>为了保证浏览器的安全，不同源的客户端脚本在没有明确授权的情况下，不能读写对方资源，称为<a class="link" target="_blank" rel="noopener" href="https://juejin.cn/post/6995171035578368008">同源策略<i class="fas fa-external-link-alt"></i></a>，同源策略是浏览器安全的基石。</p>
<p>同源策略（Sameoriginpolicy)是一种约定，它是浏览器最核心也最基本的安全功能。</p>
<p>所谓同源（即指在同一个域）就是两个页面具有相同的协议(protocol)，主机(host)和端口号(port)。</p>
<p>当一个请求url的协议、域名、端口三者之间任意一个与当前页面url不同即为跨域，此时无法读取非同</p>
<p>源网页的Cookie，无法向非同源地址发送AJAX请求。</p>
<h4 id="跨域问题解决">跨域问题解决</h4>
<p>CORS (Cross-Origin Resource Sharing）是由W3C制定的一种跨域资源共享技术标准，其目的就是为了解决前端的跨域请求。</p>
<p>CORS可以在不破坏即有规则的情况下，通过后端服务器实现CORS接口，从而实现跨域通信。</p>
<p>CORS将请求分为两类:简单请求和非简单请求，分别对跨域通信提供了支持。</p>
<p><strong>简单请求</strong></p>
<p>满足以下条件的请求即为简单请求:</p>
<p>1.请求方法:GET、POST、HEAD</p>
<p>2.除了以下的请求头字段之外，没有自定义的请求头:</p>
<p>Accept、Accept-Language、Content-Language、Last-Event-ID、Content-Type</p>
<p>3.Content-Type的值只有以下三种:<br>
text/plain、multipart/form-data、application/x-www-form-urlencoded</p>
<p>对于简单请求，CORS的策略是请求时在请求头中增加一个Origin字段。服务器收到请求后，根据该字段判断是否允许该请求访问，如果允许，则在HTTP头信息中添加Access-Control-Allow-Origin字段。</p>
<p><strong>非简单请求</strong></p>
<p>对于非简单请求的跨源请求，浏览器会在真实请求发出前增加一次<strong>OPTION请求</strong>，称为<strong>预检请求</strong>(preflight request)</p>
<p>预检请求将<strong>真实请求的信息</strong>，包括<strong>请求方法</strong>、<strong>自定义头字段</strong>、<strong>源信息</strong>添加到HTTP头信息字段中，询问服务器是否允许这样的操作。</p>
<p>例如一个GET请求</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OPTIONS /test HTTP/1.1</span><br><span class="line">Origin: http:// www.test.com</span><br><span class="line">Access-Control-Request-Method: GET</span><br><span class="line">Access-Control-Request-Headers: X-Custom-HeaderHost: www.test.com</span><br></pre></td></tr></table></figure>
<p>Access-Control-Request-Method表示请求使用的HTTP方法，Access-Control-Request-Headers包含请求的自定义头字段。</p>
<p>服务器收到请求时，需要分别对Origin、Access-Control-Request-Method、Access-Control-Request-Headers进行验证，验证通过后，会在返回HTTP头信息中添加:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http://www.test.com</span><br><span class="line">Access-Control-Allow-Methods: GET,POST, PUT, DELETE</span><br><span class="line">Access-Control-Allow-Headers: X-Custom-Header</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Max-Age: 1728000</span><br></pre></td></tr></table></figure>
<p>Access-Control-Allow-Methods、Access-Control-Allow-Headers:真实请求允许的方法、允许使用的字段。</p>
<p>Access-Control-Allow-Credentials:是否允许用户发送、处理cookie。</p>
<p>Access-Control-Max-Age:预检请求的有效期，单位为秒，有效期内不会重复发送预检请求。</p>
<hr>
<h3 id="Spring-Boot中配置CORS">Spring Boot中配置CORS</h3>
<p>如果项目中有其它类也继承了webMvcConfigurer，那么拦截器的执行顺序可能会出现问题，需要设置拦截器的执行顺序，令CorsConfig先执行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CorsConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FilterRegistrationBean&lt;CorsFilter&gt; <span class="title function_">corsFilterRegistrationBean</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">        <span class="type">CorsConfiguration</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">        config.addAllowedOriginPattern(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        config.addAllowedHeader(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        config.setAllowCredentials(<span class="literal">true</span>);</span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, config); <span class="comment">// CORS 配置对所有接口都有效</span></span><br><span class="line">        FilterRegistrationBean&lt;CorsFilter&gt; bean = <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">CorsFilter</span>(source));</span><br><span class="line">        <span class="comment">//设置执行顺序，数字越小越先执行</span></span><br><span class="line">        bean.setOrder(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或者在对应的控制器上加上@CrosOrigin注解，允许该控制器中所有的方法都能跨域。</p>
<h3 id="简单复刻网易云页面-单页面">简单复刻网易云页面(单页面)</h3>
<p>创建三个组件(discover,my,friends)，不需要再App.vue中注册组件属性，需要声明路由链接和路由占位符。</p>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 声明路由链接 --&gt;</span><br><span class="line">    &lt;router-link to=&quot;/discover&quot;&gt;发现音乐&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/my&quot;&gt;我的音乐&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/friend&quot;&gt;关注&lt;/router-link&gt;</span><br><span class="line">     &lt;!-- 声明路由占位标签 --&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>创建一个index.js文件定义对应关系</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Discover</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Discover.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friends</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Friends.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&quot;@/components/My.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将VueRouter设置为vue的插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">//指定hash属性与组件的对应关系</span></span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,<span class="attr">redirect</span>:<span class="string">&quot;/discover&quot;</span>&#125;,<span class="comment">//主页重定向到discover</span></span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/discover&quot;</span>,<span class="attr">component</span>:<span class="title class_">Discover</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/friends&quot;</span>,<span class="attr">component</span>:<span class="title class_">Friends</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/my&quot;</span>,<span class="attr">component</span>:<span class="title class_">My</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>
<p>路由导出到main.js中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="attr">router</span>:router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>嵌套路由</p>
<p>在Discover.vue组件中，可以再声明别的路由链接和路由占位符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;发现音乐&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 子路由链接 --&gt;</span><br><span class="line">        &lt;router-link to=&quot;/discover/toplist&quot;&gt;推荐&lt;/router-link&gt;</span><br><span class="line">        &lt;router-link to=&quot;/discover/playlist&quot;&gt;歌单&lt;/router-link&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Discover</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Discover.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friends</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Friends.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&quot;@/components/My.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">TopList</span> <span class="keyword">from</span> <span class="string">&quot;@/components/TopList.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PlayList</span> <span class="keyword">from</span> <span class="string">&quot;@/components/PlayList.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将VueRouter设置为vue的插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">//指定hash属性与组件的对应关系</span></span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,<span class="attr">redirect</span>:<span class="string">&quot;/discover&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/discover&quot;</span>,<span class="attr">component</span>:<span class="title class_">Discover</span>,</span><br><span class="line">        <span class="comment">//通过children属性，嵌套定义子路由</span></span><br><span class="line">          <span class="attr">children</span>:[</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;toplist&quot;</span>,<span class="attr">component</span>:<span class="title class_">TopList</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;playlist&quot;</span>,<span class="attr">component</span>:<span class="title class_">PlayList</span>&#125;</span><br><span class="line">          ]      </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/friends&quot;</span>,<span class="attr">component</span>:<span class="title class_">Friends</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&quot;/my&quot;</span>,<span class="attr">component</span>:<span class="title class_">My</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>
<p>导出router，在main.js中导入router，并添加router属性，这样其它组件可以使用<code>this.$router</code>来访问router</p>
<h4 id="动态路由">动态路由</h4>
<p>有以下3个路由链接：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/product1&quot;</span>&gt;</span>商品1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/product2&quot;</span>&gt;</span>商品2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/product3&quot;</span>&gt;</span>商品3<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&#x27;/product1&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&#x27;/product2&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>:<span class="string">&#x27;/product3&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>上述方式复用性非常差</p>
<p>动态路由可以提高复用性。动态路由：把Hash地址中可变的部分定义为参数项，从而提高路由规则的复用性。在vue-router中使用英文符号冒号来定义路由的参数项。</p>
<p><code>&#123;path:'/product/:id',component:Product&#125;</code></p>
<p>在My中嵌套3个Product子路由</p>
<p>router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">path</span>:<span class="string">&quot;/my&quot;</span>,<span class="attr">component</span>:<span class="title class_">My</span>,</span><br><span class="line">          <span class="attr">children</span>:[</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;:id&quot;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>&#125;,</span><br><span class="line">          ]  </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>通过动态路由匹配的方式渲染出来的组件中，可以使用<code>$route.params</code>对象访问到动态匹配的参数值，比如在商品组件的内部，根据id值，请求不同的商品数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h3&gt;Product组件&#123;&#123;$route.params.id&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;!-- 获取动态的id值 --&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>获取路由参数还有一种更加简便的方式。vue-router允许在路由规则中开启props传参:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;/product/:id&#x27;</span>,<span class="attr">component</span>:<span class="title class_">Product</span>,<span class="attr">props</span>:<span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<p>同时在组件中定义属性名称</p>
<p>Product.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h3&gt;Product组件&#123;&#123;id&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;!-- 获取动态的id值 --&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props:[&#x27;id&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>导航守卫</strong></p>
<p>导航守卫可以控制路由的访问权限。类似后端的拦截器。</p>
<p>全局导航守卫会拦截每个路由规则，从而对每个路由进行访问权限的控制。</p>
<p>可以使用<code>router.beforeEach</code>注册一个全局前置守卫</p>
<h3 id="状态管理Vuex">状态管理Vuex</h3>
<p>对于组件化开发来说，大型应用的状态往往跨越多个组件。在多层嵌套的父子组件之间传递状态已经十分麻烦，而Vue更是没有为兄弟组件提供直接共享数据的办法。</p>
<p>基于这个问题，许多框架提供了解决方案——使用全局的状态管理器，<strong>将所有分散的共享数据交由状态管理器保管</strong>，Vue也不例外。</p>
<p>Vuex是一个专为Vue.js应用程序开发的<strong>状态管理库</strong>，采用集中式存储管理应用的所有组件的状态。</p>
<p>简单的说，<strong>Vuex用于管理分散在Vue各个组件中的数据</strong>。</p>
<p>安装: <code>npm install vuex@3</code>    vuex3对应vue2版本</p>
<p>每一个Vuex应用的核心都是一个store，与普通的全局对象不同的是，基于Vue数据与视图绑定的特点，当store中的状态发生变化时，与之绑定的视图也会初被重新渲染。</p>
<p>store中的状态不允许被直接修改，改变store中的状态的唯一途径就是显式地提交(commit) mutation，这可以以让我们方便地跟踪每一个状态的变化。</p>
<p>在大型复杂应用中，如果无法有效地跟踪到状态的变化，将会对理解和维护代码带来极大的困扰。</p>
<p>vuex中有5个重要的概念:State、Getter、Mutation、Action、Module。</p>
<p><img src="/springboot-vue-xue-xi-ji-lu/image-20240305202055965.png" alt="image-20240305202055965"></p>
<p>State用于维护所有应用层的状态，并确保应用只有唯一的数据源。</p>
<p>src/store/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个store实例,存储所有组件的状态</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">count</span>:<span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>:&#123;</span><br><span class="line">        <span class="title function_">increment</span>(<span class="params">state</span>)&#123;</span><br><span class="line">            state.<span class="property">count</span>++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure>
<p>类似于router，导出store，在main.js中导入，添加<code>store:store</code>属性</p>
<p>在组件中，可以直接使用this.$store.state.count访问数据，也可以先用mapState辅助函数将其映射下来。</p>
<p>操作state需要触发mutations，在方法中做commit可以触发mutations:</p>
<p>某组件.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &#123;&#123; this.$store.state.count &#125;&#125;</span><br><span class="line">    &lt;button @click=&quot;add&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HelloWorld&#x27;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    add()&#123;</span><br><span class="line">      this.$store.commit(&#x27;increment&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Mock-js">Mock.js</h2>
<p>Mock.js是一款前端开发中拦截Ajax请求再生成随机数据响应的工具，可以用来模拟服务器响应。</p>
<p>优点是非常简单方便,无侵入性,基本覆盖常用的接口数据类型。</p>
<p>支持生成随机的文本、数字、布尔值、日期、邮箱、链接、图片、颜色等。</p>
<p>安装:<code>npm install mockjs</code></p>
<p>在项目中创建mock目录，新建index.js文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入mockjs</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Mock</span> <span class="keyword">from</span> <span class="string">&#x27;mockjs &#x27;</span></span><br><span class="line"><span class="comment">//使用mockjs模拟数据</span></span><br><span class="line"><span class="comment">//前端向&#x27;/product/search&#x27;发送请求时，会被mock拦截下来，由mock给它提供模拟的数据</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">mock</span>( <span class="string">&#x27;/product/search&#x27;</span>,&#123;</span><br><span class="line">	<span class="string">&quot;ret&quot;</span> :<span class="number">0</span>,</span><br><span class="line">	<span class="string">&quot;data&quot;</span> :</span><br><span class="line">      &#123;</span><br><span class="line">		<span class="string">&quot;mtime&quot;</span>: <span class="string">&quot;adatetime &quot;</span> ,<span class="comment">//随机生成日期时间</span></span><br><span class="line">    	<span class="string">&quot;score| 1-800&quot;</span>: <span class="number">1</span>,<span class="comment">//随机生成1-800的数字 冒号后面跟着的数字仅仅是为了确定数据类型</span></span><br><span class="line">    	<span class="string">&quot;rank|1-100&quot;</span>:<span class="number">1</span>,<span class="comment">//随机生成1-100的数字</span></span><br><span class="line">    	<span class="string">&quot;stars|1-5&quot;</span>: <span class="number">1</span>,<span class="comment">//随机生成1-5的数字</span></span><br><span class="line">		<span class="string">&quot;nickname&quot;</span>:<span class="string">&quot;@cname &quot;</span> ,<span class="comment">//随机生成中文名字</span></span><br><span class="line">        <span class="string">&quot;img&quot;</span>:<span class="string">&quot;@image(&#x27;200x100&#x27;, &#x27;#50a3ff&#x27;, &#x27;#FFF&#x27;, &#x27;png&#x27;, &#x27;Mock.js&#x27;)&quot;</span> ,<span class="comment">//随机生成图片</span></span><br><span class="line">	  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>组件中调用<strong>mock.js</strong>中模拟的数据接口，这时返回的<strong>response</strong>就是<strong>mock.js</strong>中用<code>Mock.mock( 'url' ,data)</code>中设置的<strong>data</strong>。前提是要在<strong>main.js</strong>中导入mock(<code>import './mock'</code>)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">	<span class="attr">mounted</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">		axios.<span class="title function_">get</span>(<span class="string">&quot;/product/search&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>)=&gt;</span>&#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(response)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>response的值就是mock中data的值</p>
<p><strong>核心方法</strong><br>
<code>Mock.mock( rurl?, rtype?, template|function( options ) )</code></p>
<ul>
<li><strong>rurl</strong>，表示需要拦截的URL，可以是URL字符串或URL 正则等。</li>
<li><strong>rtype</strong>，表示需要拦截的Ajax请求类型。例如<strong>GET</strong>、<strong>POST</strong>、<strong>PUT</strong>、<strong>DELETE</strong>。</li>
<li><strong>template</strong>，表示数据模板，可以是对象或字符串。</li>
<li>function，表示用于生成响应数据的函数。</li>
</ul>
<p>设置延时请求到数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//延时400ms请求到数据</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">setup</span>(&#123;</span><br><span class="line">	<span class="attr">timeout</span>: <span class="number">400</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//延时200-600毫秒请求到数据</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">setup</span>(&#123;</span><br><span class="line">	<span class="attr">timeout</span>: <span class="string">&#x27;200-60o&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>[Mock.js官方文档](<a class="link" target="_blank" rel="noopener" href="http://mockjs.com/0.1/#">Mock.js (mockjs.com)<i class="fas fa-external-link-alt"></i></a>)</p>
<h2 id="vue-element-admin后台集成方案">vue-element-admin后台集成方案</h2>
<p>vue-element-admin是一个后台前端解决方案，它基于vue和element-ui实现。</p>
<p>内置了i18国际化解决方案，动态路由，权限验证，提炼了典型的业务模型,提供了丰富的功能组件。</p>
<p>可以快速搭建企业级中后台产品原型。</p>
<p><a class="link" target="_blank" rel="noopener" href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/">vue-element-admin官网<i class="fas fa-external-link-alt"></i></a></p>
<p>官网中提供了<a class="link" target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-element-admin/blob/master/README.zh-CN.md">集成方案<i class="fas fa-external-link-alt"></i></a>和<a class="link" target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-admin-template/blob/master/README-zh.md">基础模板<i class="fas fa-external-link-alt"></i></a>，两者架构相同。</p>
<p>基础模板下载到本地后，执行<code>npm install</code>安装<code>node_modules</code>，执行<code>npm run dev</code>启动项目。</p>
<h2 id="JWT跨域认证">JWT跨域认证</h2>
<h3 id="Session认证">Session认证</h3>
<p>互联网服务离不开用户认证。一般流程是下面这样。</p>
<ol>
<li>用户向服务器发送用户名和密码。</li>
<li>服务器验证通过后，在当前对话（session）里面保存相关数据，比如用户角色登录时间等。</li>
<li>服务器向用户返回一个session_id，写入用户的Cookie。</li>
<li>用户随后的每一次请求，都会通过Cookie，将session_id 传回服务器。服务器收到 session_id，找到前期保存的数据，由此得知用户的身份。</li>
</ol>
<p><strong>session认证流程：</strong></p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240306163028799.png" alt="image-20240306163028799" style="zoom: 50%;">
<p>session认证的方式应用非常普遍，但也存在一些问题，扩展性不好，如果是服务器集群或者是跨域的服务导向架构，就要求session 数据共享，每台服务器都能够读取session。针对此种问题一般有两种方案:</p>
<ol>
<li>—种解决方案是session数据持久化，写入数据库或别的持久层。各种服务收<br>
到请求后，都向持久层请求数据。这种方案的优点是架构清晰，缺点是工程量比较大。</li>
<li>一种方案是服务器不再保存session 数据，所有数据都保存在客户端，每次请<br>
求都发回服务器。Token认证就是这种方案的一个代表。</li>
</ol>
<h3 id="Token认证">Token认证</h3>
<p>Token是在服务端产生的一串字符串,是客户端访问资源接口(API)时所需要的资源凭证，流程如下:</p>
<ol>
<li>客户端使用用户名跟密码请求登录，服务端收到请求，去验证用户名与密码，验证成功后，服务端会签发一个token并把这个token发送给客户端。</li>
<li>客户端收到token以后，会把它存储起来，比如放在cookie里或者localStorage里。</li>
<li>客户端每次向服务端请求资源的时候需要带着服务端签发的token。</li>
<li>服务端收到请求，然后去验证客户端请求里面带着的token，如果验证成功，就向客户端返回请求的数据。</li>
</ol>
<p><strong>Token认证流程:</strong></p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240306163704661.png" alt="image-20240306163704661" style="zoom: 50%;">
<p>基于token的用户认证是一种服务端无状态的认证方式，服务端不用存放token 数据。</p>
<p>用解析token的计算时间换取session 的存储空间，从而减轻服务器的压力，减少频繁的查询数据库。</p>
<p>token完全由应用管理，于服务器来说，它可以通过 token 来验证请求的来源和权限，而不受浏览器的同源策略的限制。所以它可以避开同源策略。</p>
<p>使用验证 token 来规避同源策略不会带来直接的危害，但可能会带来一些潜在的安全风险:</p>
<ol>
<li><strong>令牌泄露：</strong> 如果 token 被泄露，攻击者可能会使用该 token 访问受保护的资源，从而导致安全漏洞。</li>
<li><strong>伪造令牌：</strong> 如果令牌可以被轻易伪造或篡改，攻击者可能会创建伪造的 token 来访问资源。</li>
<li><strong>过期或无效令牌：</strong> 如果令牌不正确地管理和更新，可能会导致过期或无效的令牌被接受，从而降低了安全性。</li>
</ol>
<p>为了最大程度地减少这些风险，应该采取一些措施，如：</p>
<ul>
<li>使用安全的身份验证和授权机制来生成和验证 token。</li>
<li>使用 HTTPS 来传输 token，以防止 token 被中间人攻击截获或篡改。</li>
<li>定期更新 token，并实施有效的令牌管理策略，包括令牌的失效和撤销。</li>
<li>实施适当的访问控制和权限管理，以确保令牌只能访问合法且受授权的资源。</li>
</ul>
<h3 id="JWT">JWT</h3>
<p>JSON Web Token(简称JWT)是一个token认证的具体实现方式，是目前最流行的跨域认证解决方案。</p>
<p>JWT的原理是，服务器认证以后，生成一个JSON对象，发回给用户，具体如下:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;姓名&quot;</span><span class="punctuation">:</span><span class="string">&quot;张三&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;角色&quot;</span><span class="punctuation">:</span><span class="string">&quot;管理员&quot;</span>，</span><br><span class="line">	<span class="attr">&quot;到期时间&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2018年7月1日0点0分&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>用户与服务端通信的时候，都要发回这个JSON对象。服务器完全只靠这个对象认定用户身份。</p>
<p>为了防止用户篡改数据，服务器在生成这个对象的时候，会加上签名。</p>
<p>JWT的由三个部分组成，依次如下:</p>
<ul>
<li><strong>Header(头部)</strong></li>
<li><strong>Payload(负载)</strong></li>
<li><strong>Signature(签名)</strong></li>
</ul>
<p>三部分最终组合为完整的字符串，中间使用.分隔，如下:</p>
<p><strong>Header.Payload.Signature</strong></p>
<img src="/springboot-vue-xue-xi-ji-lu/image-20240306165312836.png" alt="image-20240306165312836" style="zoom:67%;">
<p><strong>Header</strong> 部分是一个JSON对象，描述JWT的元数据</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;a1g&quot;</span><span class="punctuation">:</span> <span class="string">&quot;HS256&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typ&quot;</span><span class="punctuation">:</span> <span class="string">&quot;JwT&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>alg</strong>属性表示签名的算法(algorithm) ,默认是HMAC SHA256(写成HS256)</p>
<p><strong>typ</strong>属性表示这个令牌(token)的类型(type), <strong>JWT令牌统一写为JWT</strong></p>
<p>最后，将上面的JSON对象使用Base64URL算法转成字符串</p>
<p><strong>Payload</strong>部分也是一个JSON对象，用来存放实际需要传递的数据。JWT规定了7个官方字段，供选用。</p>
<ul>
<li>iss (issuer):签发人</li>
<li>exp(expiration time):过期时间</li>
<li>sub(subject):主题</li>
<li>aud (audience):受众</li>
<li>nbf(Not Before):生效时间</li>
<li>iat (lssued At):签发时间</li>
<li>jti (JWT ID):编号</li>
</ul>
<p>注意，JWT默认是不加密的，任何人都可以读到，所以不要把秘密信息放在这个部分。</p>
<p>这个JSON对象也要使用Base64URL算法转成字符串。</p>
<p><strong>Signature</strong>部分是对前两部分的签名，防止数据篡改。</p>
<p>首先，需要指定一个密钥(secret)。这个密钥只有服务器才知道，不能泄露给用户。</p>
<p>然后，使用Header里面指定的签名算法（默认是HMAC SHA256)，按照下面的公式产生签名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">	base64Ur1Encode (header) + &quot;.&quot;+</span><br><span class="line">	base64Ur1Encode(pay1oad),</span><br><span class="line">secret)</span><br></pre></td></tr></table></figure>
<p>算出签名以后，把Header、Payload、Signature三个部分拼成一个字符串，每个部分之间用<code>.</code>分隔，就可以返回给用户。</p>
<p><strong>JWT的特点:</strong></p>
<ul>
<li>客户端收到服务器返回的JWT，可以储存在Cookie里面，也可以储存在localStorage。</li>
<li>客户端每次与服务器通信，都要带上这个JWT，可以把它放在Cookie里面自动发送，但是这样不能跨域。</li>
<li>更好的做法是放在HTTP请求的头信息<code>Authorization</code>字段里面，单独发送。</li>
</ul>
<h4 id="JWT的java实现"><strong>JWT的java实现</strong></h4>
<p><strong>加入依赖</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">&lt;/ dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>生成Token</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//7天过期</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="variable">expire</span> <span class="operator">=</span> <span class="number">604800</span>;</span><br><span class="line"><span class="comment">//32位秘钥</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">secret</span> <span class="operator">=</span><span class="string">&quot;abcdfghiabcdfghiabcdfghiabcdfghi&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成token</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">generateToken</span><span class="params">(string username)</span>&#123;</span><br><span class="line">	<span class="type">Date</span> <span class="variable">now</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">	<span class="type">Date</span> <span class="variable">expiration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(now.getTime () + <span class="number">1000</span>*expire);</span><br><span class="line">	<span class="keyword">return</span> Jwts.builder()</span><br><span class="line">			.setHeaderParam( <span class="string">&quot;type&quot;</span>,<span class="string">&quot;JWT&quot;</span>) <span class="comment">//设置头部信息，固定JWT</span></span><br><span class="line">        	.setSubject(username)		<span class="comment">//设置载荷，存储用户信息</span></span><br><span class="line">			.setIssuedAt(now)	<span class="comment">//设置生效时间</span></span><br><span class="line">			.setExpiration(expiration) <span class="comment">//设置过期时间</span></span><br><span class="line">        	<span class="comment">//指定签名算法，加入密钥</span></span><br><span class="line">			.signWith(SignatureAlgorithm.HS256,secret)</span><br><span class="line">        	.compact();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>解析Token</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解析token</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Claims <span class="title function_">getClaimsByToken</span><span class="params">( String token)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> Jwts.parser()</span><br><span class="line">				.setSigningKey(secret)</span><br><span class="line">        		.parseClaimsJws(token)</span><br><span class="line">        		.getBody();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>封装在<code>JwtUtils</code>类中</p>
<hr>
<h2 id="前后端集成">前后端集成</h2>
<p>在<code>vue-admin-template</code>中，一个完整的前端 UI 交互到服务端处理流程是这样的：</p>
<ol>
<li>UI 组件交互操作；</li>
<li>调用统一管理的 api service 请求函数；</li>
<li>使用封装的 request.js 发送请求；</li>
<li>获取服务端返回；</li>
<li>更新 data；</li>
</ol>
<p>从上面的流程可以看出，为了方便管理维护，统一的请求处理都放在 <code>@/api</code> 文件夹中，并且一般按照 model 维度进行拆分文件。我们要接管它的请求，需要修改<code>.env.development</code>环境变量。<code>VUE_APP_BASE_API='http://localhost:8090'</code></p>
<p>修改完环境变量需要重启项目才能生效。</p>

                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                SpringBoot+Vue学习记录
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                springboot-vue-xue-xi-ji-lu/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    作者
                </div>
                <div class="content">Fuooovo</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    发布于
                </div>
                <div class="content">2024-03-07 17:28</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    许可
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans">
                        <i class="fa-brands fa-creative-commons"></i>
                        <i class="fa-brands fa-creative-commons-by"></i>
                        <i class="fa-brands fa-creative-commons-nc"></i>
                        <i class="fa-brands fa-creative-commons-sa"></i>
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="复制版权信息" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/SpringBoot/">SpringBoot</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Vue/">Vue</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Mybatis-plus/">Mybatis-plus</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/Swagger/">Swagger</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="分享到 QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="分享到微信"
            data-tooltip-img-tip="微信扫一扫"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="分享到微博"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                
                    <div class="reward-author-container border-box flex-center">
    <div class="reward-btn keep-button border-box flex-center tooltip tooltip-img"
            data-tooltip-content="请作者喝水"
            data-tooltip-img-url="/images/alipay.jpg"
            data-tooltip-img-trigger="click"
            data-tooltip-img-style="top: -8px;"
    >
        <i class="fa-solid fa-hand-holding-heart"></i>
    </div>
</div>

                

                
                    <div class="post-nav border-box">
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/imgui-xue-xi-ji-lu/"
                                   title="ImGui学习记录"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">ImGui学习记录</span>
                                        <span class="post-nav-item">下一篇</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;评论
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">评论插件加载失败</span>
    <button class="reload keep-button">点击重新加载</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">正在加载评论插件</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="valine-container">
        <div id="vcomments"></div>
        <script 
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        ></script>
        <script 
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          window.KeepCommentPlugin.initValine = () => {
            const config = {
              el: '#vcomments',
              appId: 'zLV3tmcrBPucp2wRPMIisbvP-gzGzoHsz',
              appKey: 'KddVU1YEfIAXRWFRvdI8yBIB',
              meta: ['nick', 'mail', 'link'],
              avatar: 'wavatar',
              enableQQ: true,
              placeholder: '',
              lang: 'zh-CN'.toLowerCase()
            }

            if ('https://zlv3tmcr.lc-cn-n1-shared.com') {
              config.serverURLs = 'https://zlv3tmcr.lc-cn-n1-shared.com'
            }

            if (window?.Valine) {
              new Valine(config)
              window.KeepCommentPlugin.hideLoading()
            } else {
              setTimeout(() => {
                window.KeepCommentPlugin.initValine()
              }, 1000)
            }
          }

          if ('false' === 'true') {
            setTimeout(() => {
              window.KeepCommentPlugin.initValine()
            }, 1200)
          } else {
            window.addEventListener('DOMContentLoaded', window.KeepCommentPlugin.initValine)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringBoot"><span class="nav-number">1.</span> <span class="nav-text">SpringBoot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Maven"><span class="nav-number">1.1.</span> <span class="nav-text">Maven</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="nav-number">1.2.</span> <span class="nav-text">开发环境热部署</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">1.3.</span> <span class="nav-text">控制器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E7%8A%B6%E6%80%81%E7%A0%81"><span class="nav-number">1.4.</span> <span class="nav-text">HTTP状态码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="nav-number">1.5.</span> <span class="nav-text">拦截器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9A%E4%B9%89"><span class="nav-number">1.5.1.</span> <span class="nav-text">拦截器定义:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E6%B3%A8%E5%86%8C"><span class="nav-number">1.5.2.</span> <span class="nav-text">拦截器注册</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swagger"><span class="nav-number">2.</span> <span class="nav-text">Swagger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mybatis-plus"><span class="nav-number">3.</span> <span class="nav-text">Mybatis-plus</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ORM"><span class="nav-number">3.1.</span> <span class="nav-text">ORM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MyBatis-Plus"><span class="nav-number">3.2.</span> <span class="nav-text">MyBatis-Plus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98"><span class="nav-number">3.3.</span> <span class="nav-text">例题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue"><span class="nav-number">4.</span> <span class="nav-text">Vue</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MVVM%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.1.</span> <span class="nav-text">MVVM模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-number">4.2.</span> <span class="nav-text">Vue快速入门</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Axios"><span class="nav-number">4.3.</span> <span class="nav-text">Axios</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82"><span class="nav-number">4.3.1.</span> <span class="nav-text">发送GET请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E5%9B%9E%E8%B0%83%E9%97%AE%E9%A2%98"><span class="nav-number">4.3.2.</span> <span class="nav-text">异步回调问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="nav-number">4.3.3.</span> <span class="nav-text">箭头函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8EVue%E6%95%B4%E5%90%88"><span class="nav-number">4.3.4.</span> <span class="nav-text">与Vue整合</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VueRouter"><span class="nav-number">4.4.</span> <span class="nav-text">VueRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.</span> <span class="nav-text">跨域问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%87%BA%E7%8E%B0%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.1.</span> <span class="nav-text">为什么会出现跨域问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-number">4.5.2.</span> <span class="nav-text">跨域问题解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot%E4%B8%AD%E9%85%8D%E7%BD%AECORS"><span class="nav-number">4.6.</span> <span class="nav-text">Spring Boot中配置CORS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%A4%8D%E5%88%BB%E7%BD%91%E6%98%93%E4%BA%91%E9%A1%B5%E9%9D%A2-%E5%8D%95%E9%A1%B5%E9%9D%A2"><span class="nav-number">4.7.</span> <span class="nav-text">简单复刻网易云页面(单页面)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="nav-number">4.7.1.</span> <span class="nav-text">动态路由</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86Vuex"><span class="nav-number">4.8.</span> <span class="nav-text">状态管理Vuex</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mock-js"><span class="nav-number">5.</span> <span class="nav-text">Mock.js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-element-admin%E5%90%8E%E5%8F%B0%E9%9B%86%E6%88%90%E6%96%B9%E6%A1%88"><span class="nav-number">6.</span> <span class="nav-text">vue-element-admin后台集成方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JWT%E8%B7%A8%E5%9F%9F%E8%AE%A4%E8%AF%81"><span class="nav-number">7.</span> <span class="nav-text">JWT跨域认证</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Session%E8%AE%A4%E8%AF%81"><span class="nav-number">7.1.</span> <span class="nav-text">Session认证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Token%E8%AE%A4%E8%AF%81"><span class="nav-number">7.2.</span> <span class="nav-text">Token认证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JWT"><span class="nav-number">7.3.</span> <span class="nav-text">JWT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JWT%E7%9A%84java%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.3.1.</span> <span class="nav-text">JWT的java实现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E9%9B%86%E6%88%90"><span class="nav-number">8.</span> <span class="nav-text">前后端集成</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="border-box website-info-box default">
        
            <div class="copyright-info info-item default">
                &copy;&nbsp;<span>2020</span>&nbsp;-&nbsp;2024
                
                    &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">Fuooovo</a>
                
            </div>

            <div class="theme-info info-item default">
                由&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;驱动&nbsp;&&nbsp;主题&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
            </div>

            

            
        

        <div class="count-item info-item default">
            

            

            
        </div>
    </div>
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="tools-list border-box">
        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-toggle-theme-mode flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringBoot"><span class="nav-number">1.</span> <span class="nav-text">SpringBoot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Maven"><span class="nav-number">1.1.</span> <span class="nav-text">Maven</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="nav-number">1.2.</span> <span class="nav-text">开发环境热部署</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">1.3.</span> <span class="nav-text">控制器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E7%8A%B6%E6%80%81%E7%A0%81"><span class="nav-number">1.4.</span> <span class="nav-text">HTTP状态码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="nav-number">1.5.</span> <span class="nav-text">拦截器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9A%E4%B9%89"><span class="nav-number">1.5.1.</span> <span class="nav-text">拦截器定义:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E6%B3%A8%E5%86%8C"><span class="nav-number">1.5.2.</span> <span class="nav-text">拦截器注册</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swagger"><span class="nav-number">2.</span> <span class="nav-text">Swagger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mybatis-plus"><span class="nav-number">3.</span> <span class="nav-text">Mybatis-plus</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ORM"><span class="nav-number">3.1.</span> <span class="nav-text">ORM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MyBatis-Plus"><span class="nav-number">3.2.</span> <span class="nav-text">MyBatis-Plus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98"><span class="nav-number">3.3.</span> <span class="nav-text">例题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue"><span class="nav-number">4.</span> <span class="nav-text">Vue</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MVVM%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.1.</span> <span class="nav-text">MVVM模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-number">4.2.</span> <span class="nav-text">Vue快速入门</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Axios"><span class="nav-number">4.3.</span> <span class="nav-text">Axios</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82"><span class="nav-number">4.3.1.</span> <span class="nav-text">发送GET请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E5%9B%9E%E8%B0%83%E9%97%AE%E9%A2%98"><span class="nav-number">4.3.2.</span> <span class="nav-text">异步回调问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="nav-number">4.3.3.</span> <span class="nav-text">箭头函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8EVue%E6%95%B4%E5%90%88"><span class="nav-number">4.3.4.</span> <span class="nav-text">与Vue整合</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VueRouter"><span class="nav-number">4.4.</span> <span class="nav-text">VueRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.</span> <span class="nav-text">跨域问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%87%BA%E7%8E%B0%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.1.</span> <span class="nav-text">为什么会出现跨域问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-number">4.5.2.</span> <span class="nav-text">跨域问题解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot%E4%B8%AD%E9%85%8D%E7%BD%AECORS"><span class="nav-number">4.6.</span> <span class="nav-text">Spring Boot中配置CORS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%A4%8D%E5%88%BB%E7%BD%91%E6%98%93%E4%BA%91%E9%A1%B5%E9%9D%A2-%E5%8D%95%E9%A1%B5%E9%9D%A2"><span class="nav-number">4.7.</span> <span class="nav-text">简单复刻网易云页面(单页面)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="nav-number">4.7.1.</span> <span class="nav-text">动态路由</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86Vuex"><span class="nav-number">4.8.</span> <span class="nav-text">状态管理Vuex</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mock-js"><span class="nav-number">5.</span> <span class="nav-text">Mock.js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-element-admin%E5%90%8E%E5%8F%B0%E9%9B%86%E6%88%90%E6%96%B9%E6%A1%88"><span class="nav-number">6.</span> <span class="nav-text">vue-element-admin后台集成方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JWT%E8%B7%A8%E5%9F%9F%E8%AE%A4%E8%AF%81"><span class="nav-number">7.</span> <span class="nav-text">JWT跨域认证</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Session%E8%AE%A4%E8%AF%81"><span class="nav-number">7.1.</span> <span class="nav-text">Session认证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Token%E8%AE%A4%E8%AF%81"><span class="nav-number">7.2.</span> <span class="nav-text">Token认证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JWT"><span class="nav-number">7.3.</span> <span class="nav-text">JWT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JWT%E7%9A%84java%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.3.1.</span> <span class="nav-text">JWT的java实现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E9%9B%86%E6%88%90"><span class="nav-number">8.</span> <span class="nav-text">前后端集成</span></a></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>



<!-- common -->
<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/toggle-theme.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/libs/anime.min.js"></script>

<!-- local-search -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/local-search.js"></script>


<!-- lazyload -->


<div class="">
    
        <!-- post-helper -->
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/post-helper.js"></script>

        <!-- toc -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/toc.js"></script>
        

        <!-- copyright-info -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/copyright-info.js"></script>
        

        <!-- share -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.0.5/source/js/post/share.js"></script>
        
    

    <!-- category-page -->
    

    <!-- links-page -->
    

    <!-- photos-page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->


<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type = "text/javascript" src="/js/click.js"></script>

    
        
    

<script type = "text/javascript" src="/js/snow.js"></script>
</body>
</html>
